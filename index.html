<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AAV ë²¡í„° ì œì¡° ê³µì •ê¸°ìˆ  - Interactive eBook</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --accent-color: #3b82f6;
            --text-color: #1f2937;
            --bg-color: #ffffff;
            --sidebar-bg: #f8fafc;
            --border-color: #e5e7eb;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
        }

        [data-theme="dark"] {
            --text-color: #f9fafb;
            --bg-color: #111827;
            --sidebar-bg: #1f2937;
            --border-color: #374151;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            overflow-x: hidden;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 320px;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .sidebar.collapsed {
            transform: translateX(-100%);
        }

        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .sidebar-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .sidebar-subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Search */
        .search-container {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .search-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.9rem;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        /* Navigation */
        .nav-menu {
            padding: 1rem 0;
        }

        .nav-item {
            margin: 0.25rem 0;
        }

        .nav-link {
            display: block;
            padding: 0.75rem 1.5rem;
            color: var(--text-color);
            text-decoration: none;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .nav-link:hover {
            background-color: rgba(37, 99, 235, 0.1);
            border-left-color: var(--primary-color);
        }

        .nav-link.active {
            background-color: rgba(37, 99, 235, 0.15);
            border-left-color: var(--primary-color);
            font-weight: 600;
        }

        .nav-sub-item {
            padding-left: 2rem;
            font-size: 0.9rem;
        }

        /* Progress */
        .progress-container {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .progress-label {
            font-size: 0.8rem;
            color: var(--text-color);
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: var(--border-color);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            border-radius: 3px;
            transition: width 0.3s ease;
            width: 0%;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 320px;
            transition: margin-left 0.3s ease;
        }

        .main-content.expanded {
            margin-left: 0;
        }

        /* Toolbar */
        .toolbar {
            padding: 1rem 2rem;
            border-bottom: 1px solid var(--border-color);
            background-color: var(--sidebar-bg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 500;
        }

        .toolbar-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .toolbar-right {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--bg-color);
            color: var(--text-color);
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn:hover {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
        }

        /* Content Area */
        .content-area {
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .chapter {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .chapter.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chapter-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 1rem;
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 0.5rem;
        }

        .chapter-subtitle {
            font-size: 1.2rem;
            color: var(--text-color);
            opacity: 0.8;
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--secondary-color);
            margin: 2rem 0 1rem 0;
            border-left: 4px solid var(--primary-color);
            padding-left: 1rem;
        }

        .subsection-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--text-color);
            margin: 1.5rem 0 1rem 0;
        }

        .content-text {
            margin-bottom: 1.5rem;
            text-align: justify;
        }

        /* Interactive Elements */
        .interactive-box {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid #0284c7;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            position: relative;
        }

        .interactive-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .calculator {
            background-color: var(--bg-color);
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .calc-input {
            width: 100%;
            padding: 0.5rem;
            margin: 0.5rem 0;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .calc-result {
            background-color: var(--success-color);
            color: white;
            padding: 0.75rem;
            border-radius: 4px;
            margin-top: 1rem;
            font-weight: 600;
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
            margin: 1.5rem 0;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: var(--bg-color);
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: var(--sidebar-bg);
            font-weight: 600;
            color: var(--primary-color);
        }

        tr:hover {
            background-color: rgba(37, 99, 235, 0.05);
        }

        /* Highlight boxes */
        .highlight-box {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-left: 4px solid var(--warning-color);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }

        .success-box {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            border-left: 4px solid var(--success-color);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }

        .warning-box {
            background: linear-gradient(135deg, #fef2f2, #fecaca);
            border-left: 4px solid var(--danger-color);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }

        /* Checklist */
        .checklist {
            background-color: var(--sidebar-bg);
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0.5rem 0;
            padding: 0.5rem;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .checklist-item:hover {
            background-color: rgba(37, 99, 235, 0.1);
        }

        .checklist-item input[type="checkbox"] {
            width: 1.2rem;
            height: 1.2rem;
            cursor: pointer;
        }

        .checklist-item.completed {
            background-color: rgba(16, 185, 129, 0.1);
            text-decoration: line-through;
            opacity: 0.7;
        }

        /* Navigation buttons */
        .chapter-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }

        .nav-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.2s;
        }

        .nav-btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background-color: var(--border-color);
            cursor: not-allowed;
            transform: none;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .content-area {
                padding: 1rem;
            }
        }

        /* Print styles */
        @media print {
            .sidebar, .toolbar, .chapter-nav {
                display: none;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .chapter {
                display: block !important;
                page-break-before: always;
            }
        }

        /* Animation for interactive elements */
        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--sidebar-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">AAV ë²¡í„° ì œì¡° ê¸°ìˆ </div>
                <div class="sidebar-subtitle">Interactive eBook</div>
            </div>
            
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="ë‚´ìš© ê²€ìƒ‰...">
            </div>
            
            <div class="progress-container">
                <div class="progress-label">í•™ìŠµ ì§„í–‰ë¥ </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div style="font-size: 0.8rem; margin-top: 0.5rem; text-align: center;" id="progressText">0% ì™„ë£Œ</div>
            </div>
            
            <div class="nav-menu" id="navMenu">
                <div class="nav-item">
                    <a href="#" class="nav-link active" data-chapter="intro">ğŸ“– ì„œë¡ </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="design">ğŸ§¬ ë²¡í„° ì„¤ê³„</a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="overview">âš™ï¸ ê³µì • ê°œìš”</a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="upstream">ğŸ§ª ìƒë¥˜ê³µì •</a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="downstream">ğŸ”¬ í•˜ë¥˜ê³µì •</a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="quality">âœ… í’ˆì§ˆê´€ë¦¬</a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="gmp">ğŸ­ GMP & ìŠ¤ì¼€ì¼ì—…</a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="automation">ğŸ¤– ìë™í™” & PAT</a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="future">ğŸš€ ë¯¸ë˜ ì „ë§</a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="casestudy">ğŸ“‹ ì‚¬ë¡€ ì—°êµ¬</a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="regulatory">ğŸ“œ ê·œì œ ê°€ì´ë“œ</a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="tools">ğŸ› ï¸ ì‹¤ë¬´ ë„êµ¬</a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-chapter="appendix">ğŸ“š ë¶€ë¡</a>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <div class="toolbar">
                <div class="toolbar-left">
                    <button class="btn" id="toggleSidebar">â˜° ë©”ë‰´</button>
                    <button class="btn" id="toggleTheme">ğŸŒ™ ë‹¤í¬ëª¨ë“œ</button>
                </div>
                <div class="toolbar-right">
                    <button class="btn" onclick="window.print()">ğŸ–¨ï¸ ì¸ì‡„</button>
                    <button class="btn" id="bookmarkBtn">ğŸ”– ë¶ë§ˆí¬</button>
                    <button class="btn" id="notesBtn">ğŸ“ ë…¸íŠ¸</button>
                    <button class="btn" id="quizBtn">ğŸ§  í€´ì¦ˆ</button>
                    <button class="btn" id="summaryBtn">ğŸ“„ ìš”ì•½</button>
                </div>
            </div>

            <div class="content-area">
                <!-- Chapter: Introduction -->
                <div class="chapter active" id="chapter-intro">
                    <h1 class="chapter-title">ì œ1ì¥ ì„œë¡ </h1>
                    <p class="chapter-subtitle">AAV ë²¡í„°ì˜ ì¤‘ìš”ì„±ê³¼ ì œì¡° ê³µì •ì˜ ë„ì „ê³¼ì œ</p>
                    
                    <div class="section-title">1.1 AAV ë²¡í„°ì˜ ì¤‘ìš”ì„±</div>
                    <div class="content-text">
                        Adeno-Associated Virus (AAV) ë²¡í„°ëŠ” í˜„ì¬ ìœ ì „ì ì¹˜ë£Œ ë¶„ì•¼ì—ì„œ ê°€ì¥ ê°ê´‘ë°›ëŠ” ì „ë‹¬ì²´ì…ë‹ˆë‹¤. ë‚®ì€ ë©´ì—­ì›ì„±, ë¹„ë³‘ì›ì„±, ê·¸ë¦¬ê³  ë‹¤ì–‘í•œ ì¡°ì§ì— ëŒ€í•œ íŠ¹ì´ì  ê°ì—¼ëŠ¥ë ¥ìœ¼ë¡œ ì¸í•´ ì„ìƒì—ì„œ ê´‘ë²”ìœ„í•˜ê²Œ í™œìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.
                    </div>

                    <div class="highlight-box">
                        <strong>ğŸ’¡ ì£¼ìš” ì¥ì :</strong><br>
                        â€¢ ë¹„ë³‘ì›ì„± ë° ë‚®ì€ ë©´ì—­ì›ì„±<br>
                        â€¢ ë¶„ì—´í•˜ì§€ ì•ŠëŠ” ì„¸í¬ì—ë„ ê°ì—¼ ê°€ëŠ¥<br>
                        â€¢ ì¥ê¸°ê°„ ìœ ì „ì ë°œí˜„ ìœ ì§€<br>
                        â€¢ ë‹¤ì–‘í•œ í˜ˆì²­í˜•ì„ í†µí•œ ì¡°ì§ íŠ¹ì´ì„±
                    </div>

                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ“Š ì‹œì¥ í˜„í™© ë¶„ì„</div>
                        <div class="calculator">
                            <label>ì˜ˆìƒ í™˜ì ìˆ˜:</label>
                            <input type="number" class="calc-input" id="patientCount" value="1000" placeholder="í™˜ì ìˆ˜ ì…ë ¥">
                            
                            <label>ìš©ëŸ‰ (dose/í™˜ì):</label>
                            <input type="number" class="calc-input" id="dosePerPatient" value="1e15" placeholder="GC/dose">
                            
                            <label>ì œì¡° ë¹„ìš© ($/dose):</label>
                            <input type="number" class="calc-input" id="costPerDose" value="100000" placeholder="ì œì¡° ë¹„ìš©">
                            
                            <button class="btn btn-primary" onclick="calculateMarket()">ì‹œì¥ ê·œëª¨ ê³„ì‚°</button>
                            
                            <div class="calc-result" id="marketResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="section-title">1.2 ì œì¡° ê³µì •ì˜ ë„ì „ê³¼ì œ</div>
                    <div class="content-text">
                        AAV ë²¡í„° ì œì¡°ëŠ” ì—¬ëŸ¬ ê¸°ìˆ ì , ê²½ì œì  ë„ì „ì„ ì•ˆê³  ìˆìŠµë‹ˆë‹¤:
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ë„ì „ê³¼ì œ</th>
                                    <th>í˜„ì¬ ìƒí™©</th>
                                    <th>ëª©í‘œ</th>
                                    <th>í•´ê²° ë°©ì•ˆ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ìŠ¤ì¼€ì¼ì—…</td>
                                    <td>10-50L</td>
                                    <td>1000-2000L</td>
                                    <td>ì—°ì†ê³µì •, ìë™í™”</td>
                                </tr>
                                <tr>
                                    <td>ìƒì‚°ë¹„ìš©</td>
                                    <td>$100K-500K/dose</td>
                                    <td>$10K-50K/dose</td>
                                    <td>ê³µì • ìµœì í™”, ìˆ˜ìœ¨ í–¥ìƒ</td>
                                </tr>
                                <tr>
                                    <td>Empty/Full ë¹„ìœ¨</td>
                                    <td>30-70% Empty</td>
                                    <td><15% Empty</td>
                                    <td>ì‹ ê·œ ì •ì œ ê¸°ìˆ </td>
                                </tr>
                                <tr>
                                    <td>í’ˆì§ˆ ì¼ê´€ì„±</td>
                                    <td>ë°°ì¹˜ ê°„ í¸ì°¨ Â±30%</td>
                                    <td>Â±10% ì´ë‚´</td>
                                    <td>PAT, ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="warning-box">
                        <strong>âš ï¸ ì¤‘ìš” ê³ ë ¤ì‚¬í•­:</strong><br>
                        AAV ì œì¡°ëŠ” ë†’ì€ ê¸°ìˆ ì  ë³µì¡ì„±ê³¼ ê·œì œ ìš”êµ¬ì‚¬í•­ì„ ìˆ˜ë°˜í•©ë‹ˆë‹¤. ì„±ê³µì ì¸ ìƒì—…í™”ë¥¼ ìœ„í•´ì„œëŠ” ì²´ê³„ì ì¸ ê³µì • ê°œë°œê³¼ ì§€ì†ì ì¸ ìµœì í™”ê°€ í•„ìˆ˜ì…ë‹ˆë‹¤.
                    </div>
                </div>

                <!-- Chapter: Vector Design -->
                <div class="chapter" id="chapter-design">
                    <h1 class="chapter-title">ì œ2ì¥ AAV ë²¡í„°ì˜ ì„¤ê³„</h1>
                    <p class="chapter-subtitle">íš¨ê³¼ì ì¸ AAV ë²¡í„° ì„¤ê³„ë¥¼ ìœ„í•œ í•µì‹¬ ìš”ì†Œë“¤</p>
                    
                    <div class="section-title">2.1 í˜ˆì²­í˜• ì„ íƒ ê°€ì´ë“œ</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ§¬ í˜ˆì²­í˜• ì„ íƒ ë„êµ¬</div>
                        <div class="calculator">
                            <label>í‘œì  ì¡°ì§:</label>
                            <select class="calc-input" id="targetTissue">
                                <option value="brain">ë‡Œ/ì¤‘ì¶”ì‹ ê²½ê³„</option>
                                <option value="liver">ê°„</option>
                                <option value="muscle">ê·¼ìœ¡</option>
                                <option value="eye">ëˆˆ/ë§ë§‰</option>
                                <option value="lung">í/ê¸°ë„</option>
                                <option value="heart">ì‹¬ì¥</option>
                            </select>
                            
                            <label>íˆ¬ì—¬ ê²½ë¡œ:</label>
                            <select class="calc-input" id="deliveryRoute">
                                <option value="iv">ì •ë§¥ì£¼ì‚¬ (IV)</option>
                                <option value="local">êµ­ì†Œì£¼ì‚¬</option>
                                <option value="intrathecal">ë‡Œì²™ìˆ˜ê°•ë‚´</option>
                                <option value="inhalation">í¡ì…</option>
                            </select>
                            
                            <button class="btn btn-primary" onclick="recommendSerotype()">í˜ˆì²­í˜• ì¶”ì²œ</button>
                            
                            <div class="calc-result" id="serotypeResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>í˜ˆì²­í˜•</th>
                                    <th>ì£¼ìš” í‘œì </th>
                                    <th>BBB íˆ¬ê³¼ì„±</th>
                                    <th>ì„ìƒ ì ìš©</th>
                                    <th>íŠ¹ì§•</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>AAV1</td>
                                    <td>ê·¼ìœ¡, ì‹ ê²½</td>
                                    <td>ë‚®ìŒ</td>
                                    <td>DMD, ì‹¬ë¶€ì „</td>
                                    <td>ê·¼ìœ¡ íŠ¹ì´ì„± ìš°ìˆ˜</td>
                                </tr>
                                <tr>
                                    <td>AAV2</td>
                                    <td>ê°„, ì‹ ê²½, ë§ë§‰</td>
                                    <td>ì¤‘ê°„</td>
                                    <td>í˜ˆìš°ë³‘B, LCA</td>
                                    <td>ê°€ì¥ ì—°êµ¬ ë§ì´ë¨</td>
                                </tr>
                                <tr>
                                    <td>AAV8</td>
                                    <td>ê°„, ê·¼ìœ¡</td>
                                    <td>ë‚®ìŒ</td>
                                    <td>í˜ˆìš°ë³‘A/B</td>
                                    <td>ê°„ íŠ¹ì´ì„± ë†’ìŒ</td>
                                </tr>
                                <tr>
                                    <td>AAV9</td>
                                    <td>CNS, ì‹¬ì¥</td>
                                    <td>ë†’ìŒ</td>
                                    <td>SMA, ALS</td>
                                    <td>BBB íˆ¬ê³¼ ìš°ìˆ˜</td>
                                </tr>
                                <tr>
                                    <td>AAVrh10</td>
                                    <td>ê¸°ë„, ê°„</td>
                                    <td>ì¤‘ê°„</td>
                                    <td>ë‚­í¬ì„± ì„¬ìœ ì¦</td>
                                    <td>ê¸°ë„ ìƒí”¼ íŠ¹ì´ì„±</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">2.2 ìœ ì „ì ì¹´ì„¸íŠ¸ ì„¤ê³„</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ“ ì¹´ì„¸íŠ¸ í¬ê¸° ê³„ì‚°ê¸°</div>
                        <div class="calculator">
                            <label>ITR (ê³ ì •):</label>
                            <input type="number" class="calc-input" value="290" readonly> bp
                            
                            <label>í”„ë¡œëª¨í„° ê¸¸ì´:</label>
                            <input type="number" class="calc-input" id="promoterLength" value="500" placeholder="bp"> bp
                            
                            <label>ì¹˜ë£Œìœ ì „ì ê¸¸ì´:</label>
                            <input type="number" class="calc-input" id="geneLength" value="1500" placeholder="bp"> bp
                            
                            <label>í´ë¦¬A ì‹ í˜¸:</label>
                            <input type="number" class="calc-input" id="polyALength" value="200" placeholder="bp"> bp
                            
                            <button class="btn btn-primary" onclick="calculateCassetteSize()">ì´ í¬ê¸° ê³„ì‚°</button>
                            
                            <div class="calc-result" id="cassetteResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="success-box">
                        <strong>âœ… ì„¤ê³„ ì›ì¹™:</strong><br>
                        â€¢ ì´ ì¹´ì„¸íŠ¸ í¬ê¸°ëŠ” 4.7kb ì´í•˜ë¡œ ì œí•œ<br>
                        â€¢ ITRë¡œë¶€í„° ìµœì†Œ 100bp ì´ê²©<br>
                        â€¢ ê°•í•œ 2ì°¨ êµ¬ì¡° í˜•ì„± ì„œì—´ íšŒí”¼<br>
                        â€¢ Codon optimization ì ìš©
                    </div>
                </div>

                <!-- Chapter: Process Overview -->
                <div class="chapter" id="chapter-overview">
                    <h1 class="chapter-title">ì œ3ì¥ ì œì¡° ê³µì • ê°œìš”</h1>
                    <p class="chapter-subtitle">AAV ë²¡í„° ì œì¡°ì˜ ì „ì²´ íë¦„ê³¼ í•µì‹¬ ë‹¨ê³„</p>
                    
                    <div class="section-title">3.1 ì „ì²´ ê³µì • íë¦„</div>
                    
                    <div style="background: linear-gradient(135deg, #f0f9ff, #e0f2fe); border-radius: 12px; padding: 2rem; margin: 2rem 0; text-align: center;">
                        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                            <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); min-width: 120px;">
                                <div style="font-size: 2rem;">ğŸ§«</div>
                                <div style="font-weight: 600; margin: 0.5rem 0;">ì„¸í¬ì€í–‰</div>
                                <div style="font-size: 0.8rem;">MCB/WCB</div>
                            </div>
                            <div style="font-size: 2rem; color: #2563eb;">â†’</div>
                            <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); min-width: 120px;">
                                <div style="font-size: 2rem;">âš™ï¸</div>
                                <div style="font-weight: 600; margin: 0.5rem 0;">ìƒë¥˜ê³µì •</div>
                                <div style="font-size: 0.8rem;">ë°°ì–‘/ìƒì‚°</div>
                            </div>
                            <div style="font-size: 2rem; color: #2563eb;">â†’</div>
                            <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); min-width: 120px;">
                                <div style="font-size: 2rem;">ğŸ”¬</div>
                                <div style="font-weight: 600; margin: 0.5rem 0;">í•˜ë¥˜ê³µì •</div>
                                <div style="font-size: 0.8rem;">ì •ì œ/ë†ì¶•</div>
                            </div>
                            <div style="font-size: 2rem; color: #2563eb;">â†’</div>
                            <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); min-width: 120px;">
                                <div style="font-size: 2rem;">ğŸ’‰</div>
                                <div style="font-weight: 600; margin: 0.5rem 0;">ì œí˜•í™”</div>
                                <div style="font-size: 0.8rem;">ë¬´ê· ì¶©ì§„</div>
                            </div>
                            <div style="font-size: 2rem; color: #2563eb;">â†’</div>
                            <div style="background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); min-width: 120px;">
                                <div style="font-size: 2rem;">ğŸ“¦</div>
                                <div style="font-weight: 600; margin: 0.5rem 0;">ìµœì¢…ì œí’ˆ</div>
                                <div style="font-size: 0.8rem;">QC/ì¶œí•˜</div>
                            </div>
                        </div>
                    </div>

                    <div class="section-title">3.2 ê³µì • ì „í™˜ ë‹¨ê³„</div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ë‹¨ê³„</th>
                                    <th>ê·œëª¨</th>
                                    <th>ì£¼ìš” ëª©í‘œ</th>
                                    <th>ê²€ì¦ ìš”êµ¬ì‚¬í•­</th>
                                    <th>ì†Œìš” ê¸°ê°„</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ì—°êµ¬ ê°œë°œ</td>
                                    <td>1-10L</td>
                                    <td>ê°œë… ì¦ëª…, ìµœì í™”</td>
                                    <td>ê¸°ì´ˆ ë¶„ì„ë²• ê°œë°œ</td>
                                    <td>6-12ê°œì›”</td>
                                </tr>
                                <tr>
                                    <td>ì„ìƒ ì „</td>
                                    <td>50-200L</td>
                                    <td>GMP ì í•©ì„± í™•ì¸</td>
                                    <td>3ë°°ì¹˜ ì—°ì† ì„±ê³µ</td>
                                    <td>3-6ê°œì›”</td>
                                </tr>
                                <tr>
                                    <td>ì„ìƒ I/II</td>
                                    <td>200-500L</td>
                                    <td>í™˜ì ì¹˜ë£Œìš© ìƒì‚°</td>
                                    <td>ì™„ì „í•œ validation</td>
                                    <td>6-12ê°œì›”</td>
                                </tr>
                                <tr>
                                    <td>ìƒì—… ìƒì‚°</td>
                                    <td>1000-2000L</td>
                                    <td>ëŒ€ëŸ‰ ìƒì‚° ì²´ê³„</td>
                                    <td>PPQ, ì§€ì†ì  ê²€ì¦</td>
                                    <td>12-18ê°œì›”</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ“ˆ ìŠ¤ì¼€ì¼ì—… ì‹œë®¬ë ˆì´í„°</div>
                        <div class="calculator">
                            <label>í˜„ì¬ ê·œëª¨ (L):</label>
                            <input type="number" class="calc-input" id="currentScale" value="50" placeholder="í˜„ì¬ ë°°ì–‘ ê·œëª¨">
                            
                            <label>ëª©í‘œ ê·œëª¨ (L):</label>
                            <input type="number" class="calc-input" id="targetScale" value="500" placeholder="ëª©í‘œ ë°°ì–‘ ê·œëª¨">
                            
                            <label>í˜„ì¬ ìˆ˜ìœ¨ (GC/L):</label>
                            <input type="number" class="calc-input" id="currentYield" value="1e12" placeholder="í˜„ì¬ ìˆ˜ìœ¨">
                            
                            <button class="btn btn-primary" onclick="calculateScaleup()">ìŠ¤ì¼€ì¼ì—… ë¶„ì„</button>
                            
                            <div class="calc-result" id="scaleupResult" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <!-- Chapter: Upstream -->
                <div class="chapter" id="chapter-upstream">
                    <h1 class="chapter-title">ì œ4ì¥ ìƒë¥˜ê³µì •</h1>
                    <p class="chapter-subtitle">ì„¸í¬ ë°°ì–‘ë¶€í„° AAV ìƒì‚°ê¹Œì§€ì˜ í•µì‹¬ ê¸°ìˆ </p>
                    
                    <div class="section-title">4.1 HEK293 Suspension ë°°ì–‘</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ§ª ë°°ì–‘ ì¡°ê±´ ìµœì í™” ë„êµ¬</div>
                        <div class="calculator">
                            <label>ë°°ì–‘ ë¶€í”¼ (L):</label>
                            <input type="number" class="calc-input" id="cultureVolume" value="200" placeholder="ì´ ë°°ì–‘ ë¶€í”¼">
                            
                            <label>ì´ˆê¸° ì„¸í¬ë°€ë„ (Ã—10â¶ cells/mL):</label>
                            <input type="number" class="calc-input" id="initialDensity" value="0.5" placeholder="ì ‘ì¢… ë°€ë„">
                            
                            <label>ëª©í‘œ ì„¸í¬ë°€ë„ (Ã—10â¶ cells/mL):</label>
                            <input type="number" class="calc-input" id="targetDensity" value="2.0" placeholder="Transfection ì‹œì ">
                            
                            <label>ë°°ê°€ ì‹œê°„ (hours):</label>
                            <input type="number" class="calc-input" id="doublingTime" value="24" placeholder="ì„¸í¬ ë°°ê°€ ì‹œê°„">
                            
                            <button class="btn btn-primary" onclick="calculateCulture()">ë°°ì–‘ ê³„íš ìˆ˜ë¦½</button>
                            
                            <div class="calc-result" id="cultureResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>íŒŒë¼ë¯¸í„°</th>
                                    <th>ìµœì  ë²”ìœ„</th>
                                    <th>í—ˆìš© ë²”ìœ„</th>
                                    <th>ëª¨ë‹ˆí„°ë§ ì£¼ê¸°</th>
                                    <th>ì¡°ì¹˜ ê¸°ì¤€</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ìš©ì¡´ì‚°ì†Œ (DO)</td>
                                    <td>30-50%</td>
                                    <td>20-60%</td>
                                    <td>ì—°ì†</td>
                                    <td>Â±10% ë²—ì–´ë‚˜ë©´ ì¡°ì •</td>
                                </tr>
                                <tr>
                                    <td>pH</td>
                                    <td>7.0-7.4</td>
                                    <td>6.8-7.6</td>
                                    <td>ì—°ì†</td>
                                    <td>Â±0.2 ë²—ì–´ë‚˜ë©´ ì¡°ì •</td>
                                </tr>
                                <tr>
                                    <td>ì˜¨ë„ (Â°C)</td>
                                    <td>36.5-37.5</td>
                                    <td>36.0-38.0</td>
                                    <td>ì—°ì†</td>
                                    <td>Â±1Â°C ë²—ì–´ë‚˜ë©´ í™•ì¸</td>
                                </tr>
                                <tr>
                                    <td>êµë°˜ì†ë„ (rpm)</td>
                                    <td>60-100</td>
                                    <td>40-120</td>
                                    <td>ì—°ì†</td>
                                    <td>ê±°í’ˆ ë°œìƒ ì‹œ ê°ì†Œ</td>
                                </tr>
                                <tr>
                                    <td>ìƒì¡´ìœ¨ (%)</td>
                                    <td>>95</td>
                                    <td>>90</td>
                                    <td>ë§¤ì¼</td>
                                    <td><90% ì‹œ ì›ì¸ ì¡°ì‚¬</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">4.2 Triple Transfection ìµœì í™”</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ”¬ Transfection ê³„ì‚°ê¸°</div>
                        <div class="calculator">
                            <label>ë°°ì–‘ ë¶€í”¼ (mL):</label>
                            <input type="number" class="calc-input" id="transfectionVolume" value="200000" placeholder="Transfection ë¶€í”¼">
                            
                            <label>ì„¸í¬ë°€ë„ (Ã—10â¶ cells/mL):</label>
                            <input type="number" class="calc-input" id="cellDensity" value="2.0" placeholder="Transfection ì‹œì  ë°€ë„">
                            
                            <label>DNA ë†ë„ (Î¼g/mL):</label>
                            <input type="number" class="calc-input" id="dnaConcentration" value="1.0" placeholder="ì´ DNA ë†ë„">
                            
                            <button class="btn btn-primary" onclick="calculateTransfection()">Transfection ë ˆì‹œí”¼ ê³„ì‚°</button>
                            
                            <div class="calc-result" id="transfectionResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <strong>ğŸ¯ Transfection ìµœì í™” í¬ì¸íŠ¸:</strong><br>
                        â€¢ Vector:Rep/Cap:Helper = 1:1:2 ë¹„ìœ¨ ê¶Œì¥<br>
                        â€¢ ì„¸í¬ë°€ë„ 1.5-2.0 Ã— 10â¶ cells/mLì—ì„œ ì‹¤ì‹œ<br>
                        â€¢ PEI:DNA ë¹„ìœ¨ = 3:1 (w/w)<br>
                        â€¢ ë³µí•©ì²´ í˜•ì„± ì‹œê°„: 15-20ë¶„<br>
                        â€¢ Transfection í›„ ì˜¨ë„ shift: 37Â°C â†’ 32-34Â°C
                    </div>

                    <div class="section-title">4.3 Fed-Batch ì „ëµ</div>
                    
                    <div class="checklist">
                        <h4>Feed ìŠ¤ì¼€ì¤„ ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
                        <div class="checklist-item">
                            <input type="checkbox" id="feed1">
                            <label for="feed1">Day 0: ì´ˆê¸° ì ‘ì¢… ì™„ë£Œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="feed2">
                            <label for="feed2">Day 1: Transfection ì‹¤ì‹œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="feed3">
                            <label for="feed3">Day 2: ì²« ë²ˆì§¸ Feed (5% v/v)</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="feed4">
                            <label for="feed4">Day 3: ë‘ ë²ˆì§¸ Feed (5% v/v)</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="feed5">
                            <label for="feed5">Day 4: ìˆ˜ìœ¨ í™•ì¸ ë° Harvest ì¤€ë¹„</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="feed6">
                            <label for="feed6">Day 5: Harvest ì‹¤ì‹œ</label>
                        </div>
                    </div>
                </div>

                <!-- Chapter: Downstream -->
                <div class="chapter" id="chapter-downstream">
                    <h1 class="chapter-title">ì œ5ì¥ í•˜ë¥˜ê³µì •</h1>
                    <p class="chapter-subtitle">íš¨ìœ¨ì ì¸ AAV ì •ì œë¥¼ ìœ„í•œ ì „ëµê³¼ ê¸°ìˆ </p>
                    
                    <div class="section-title">5.1 Harvest & Clarification</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ”§ ìš©í•´ ì¡°ê±´ ìµœì í™”</div>
                        <div class="calculator">
                            <label>ë°°ì–‘ ë¶€í”¼ (L):</label>
                            <input type="number" class="calc-input" id="harvestVolume" value="200" placeholder="Harvest ë¶€í”¼">
                            
                            <label>ì„¸í¬ë°€ë„ (Ã—10â¶ cells/mL):</label>
                            <input type="number" class="calc-input" id="harvestDensity" value="3.0" placeholder="Harvest ì‹œì  ë°€ë„">
                            
                            <label>ìš©í•´ ë°©ë²•:</label>
                            <select class="calc-input" id="lysisMethod">
                                <option value="triton">Triton X-100</option>
                                <option value="freeze">Freeze-thaw</option>
                                <option value="detergent">ê¸°íƒ€ Detergent</option>
                            </select>
                            
                            <button class="btn btn-primary" onclick="calculateLysis()">ìš©í•´ ì¡°ê±´ ê³„ì‚°</button>
                            
                            <div class="calc-result" id="lysisResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ì •ì œ ë‹¨ê³„</th>
                                    <th>ëª©ì </th>
                                    <th>ì£¼ìš” ì œê±° ëŒ€ìƒ</th>
                                    <th>ì˜ˆìƒ ìˆ˜ìœ¨</th>
                                    <th>ì†Œìš” ì‹œê°„</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Clarification</td>
                                    <td>ì„¸í¬ ì”í•´ ì œê±°</td>
                                    <td>ì„¸í¬, í•µì‚°, ì„¸í¬ê¸°ì§ˆ</td>
                                    <td>90-95%</td>
                                    <td>2-4ì‹œê°„</td>
                                </tr>
                                <tr>
                                    <td>Affinity Capture</td>
                                    <td>AAV ë†ì¶•/í¬ì§‘</td>
                                    <td>HCP, ë°°ì§€ ì„±ë¶„</td>
                                    <td>75-85%</td>
                                    <td>4-6ì‹œê°„</td>
                                </tr>
                                <tr>
                                    <td>Ion Exchange</td>
                                    <td>ë¶ˆìˆœë¬¼ ì œê±°</td>
                                    <td>HCP, DNA, Empty capsids</td>
                                    <td>80-90%</td>
                                    <td>3-5ì‹œê°„</td>
                                </tr>
                                <tr>
                                    <td>Size Exclusion</td>
                                    <td>ì‘ì§‘ì²´ ì œê±°</td>
                                    <td>Aggregates, ì €ë¶„ì</td>
                                    <td>85-95%</td>
                                    <td>2-3ì‹œê°„</td>
                                </tr>
                                <tr>
                                    <td>TFF</td>
                                    <td>ë†ì¶•/Buffer êµí™˜</td>
                                    <td>ì—¼, ì €ë¶„ì ë¶ˆìˆœë¬¼</td>
                                    <td>90-95%</td>
                                    <td>2-4ì‹œê°„</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">5.2 Chromatography ìµœì í™”</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ“Š ì»¬ëŸ¼ ì‚¬ì´ì§• ê³„ì‚°ê¸°</div>
                        <div class="calculator">
                            <label>ì²˜ë¦¬ëŸ‰ (L):</label>
                            <input type="number" class="calc-input" id="columnVolume" value="200" placeholder="ì²˜ë¦¬í•  ìš©ì•¡ ë¶€í”¼">
                            
                            <label>AAV ë†ë„ (Ã—10Â¹Â² GC/L):</label>
                            <input type="number" class="calc-input" id="aavConcentration" value="1.0" placeholder="AAV ë†ë„">
                            
                            <label>ìˆ˜ì§€ ê²°í•©ìš©ëŸ‰ (Ã—10Â¹Â³ GC/L resin):</label>
                            <input type="number" class="calc-input" id="resinCapacity" value="1.0" placeholder="ìˆ˜ì§€ ê²°í•©ìš©ëŸ‰">
                            
                            <label>ëª©í‘œ ìœ ì† (CV/h):</label>
                            <input type="number" class="calc-input" id="flowRate" value="150" placeholder="ìœ ì†">
                            
                            <button class="btn btn-primary" onclick="calculateColumn()">ì»¬ëŸ¼ í¬ê¸° ê³„ì‚°</button>
                            
                            <div class="calc-result" id="columnResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="warning-box">
                        <strong>âš ï¸ ìŠ¤ì¼€ì¼ì—… ì£¼ì˜ì‚¬í•­:</strong><br>
                        â€¢ ì••ë ¥ ì¦ê°€: ë†’ì´ ì¦ê°€ ì‹œ ì••ë ¥ ì¦ê°€ ê³ ë ¤<br>
                        â€¢ ìœ ì† ê· ì¼ì„±: ì»¬ëŸ¼ ì§ê²½ ëŒ€ë¹„ ë†’ì´ ë¹„ìœ¨ ìœ ì§€<br>
                        â€¢ ì˜¨ë„ ì œì–´: ëŒ€í˜• ì»¬ëŸ¼ì—ì„œ ì˜¨ë„ ê· ì¼ì„± í™•ë³´<br>
                        â€¢ ì„¸ì²™ ê²€ì¦: ìŠ¤ì¼€ì¼ì—… ì‹œ ì„¸ì²™ íš¨ìœ¨ ì¬ê²€ì¦ í•„ìˆ˜
                    </div>

                    <div class="section-title">5.3 Empty/Full Capsid ë¶„ë¦¬</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">âš–ï¸ Empty/Full ë¹„ìœ¨ ì‹œë®¬ë ˆì´í„°</div>
                        <div class="calculator">
                            <label>ì´ˆê¸° Full capsid % :</label>
                            <input type="number" class="calc-input" id="initialFull" value="60" placeholder="ì •ì œ ì „ Full %">
                            
                            <label>ë¶„ë¦¬ íš¨ìœ¨ % :</label>
                            <input type="number" class="calc-input" id="separationEfficiency" value="80" placeholder="ë¶„ë¦¬ ê³µì • íš¨ìœ¨">
                            
                            <label>ìˆ˜ìœ¨ % :</label>
                            <input type="number" class="calc-input" id="recoveryYield" value="75" placeholder="ì „ì²´ íšŒìˆ˜ìœ¨">
                            
                            <button class="btn btn-primary" onclick="calculateEmptyFull()">ë¶„ë¦¬ ê²°ê³¼ ì˜ˆì¸¡</button>
                            
                            <div class="calc-result" id="emptyFullResult" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <!-- Chapter: Quality -->
                <div class="chapter" id="chapter-quality">
                    <h1 class="chapter-title">ì œ6ì¥ í’ˆì§ˆ íŠ¹ì„± ë° ë¶„ì„</h1>
                    <p class="chapter-subtitle">AAV ì œí’ˆì˜ í’ˆì§ˆ ë³´ì¦ì„ ìœ„í•œ ë¶„ì„ ì „ëµ</p>
                    
                    <div class="section-title">6.1 í•„ìˆ˜ í’ˆì§ˆ ì†ì„± (CQAs)</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ”¬ qPCR ì—­ê°€ ê³„ì‚°ê¸°</div>
                        <div class="calculator">
                            <label>Ct ê°’:</label>
                            <input type="number" class="calc-input" id="ctValue" value="25.5" placeholder="qPCR Ct ê°’" step="0.1">
                            
                            <label>í‘œì¤€ê³¡ì„  ê¸°ìš¸ê¸°:</label>
                            <input type="number" class="calc-input" id="slope" value="-3.32" placeholder="Standard curve slope" step="0.01">
                            
                            <label>Y ì ˆí¸:</label>
                            <input type="number" class="calc-input" id="intercept" value="40.0" placeholder="Y-intercept" step="0.1">
                            
                            <label>í¬ì„ ë°°ìˆ˜:</label>
                            <input type="number" class="calc-input" id="dilution" value="1000" placeholder="ìƒ˜í”Œ í¬ì„ ë°°ìˆ˜">
                            
                            <button class="btn btn-primary" onclick="calculateTiter()">ì—­ê°€ ê³„ì‚°</button>
                            
                            <div class="calc-result" id="titerResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>í’ˆì§ˆ ì†ì„±</th>
                                    <th>ë¶„ì„ ë°©ë²•</th>
                                    <th>ê·œê²© ê¸°ì¤€</th>
                                    <th>ë¶„ì„ ì‹œê°„</th>
                                    <th>ë¹ˆë„</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>AAV ì—­ê°€</td>
                                    <td>qPCR (ITR)</td>
                                    <td>1Ã—10Â¹Â²-1Ã—10Â¹â´ GC/mL</td>
                                    <td>4ì‹œê°„</td>
                                    <td>ëª¨ë“  ë°°ì¹˜</td>
                                </tr>
                                <tr>
                                    <td>Full/Empty ë¹„ìœ¨</td>
                                    <td>AUC, CryoEM</td>
                                    <td>Full >70%</td>
                                    <td>24ì‹œê°„</td>
                                    <td>ì¶œí•˜ ì‹œ</td>
                                </tr>
                                <tr>
                                    <td>ë™ì¼ì„±</td>
                                    <td>PCR, ì‹œí€€ì‹±</td>
                                    <td>100% ì¼ì¹˜</td>
                                    <td>8ì‹œê°„</td>
                                    <td>ì¶œí•˜ ì‹œ</td>
                                </tr>
                                <tr>
                                    <td>ìˆœë„</td>
                                    <td>SDS-PAGE, HPLC</td>
                                    <td>ì£¼ì„±ë¶„ >90%</td>
                                    <td>6ì‹œê°„</td>
                                    <td>ëª¨ë“  ë°°ì¹˜</td>
                                </tr>
                                <tr>
                                    <td>HCP</td>
                                    <td>ELISA</td>
                                    <td><100 ng/dose</td>
                                    <td>6ì‹œê°„</td>
                                    <td>ëª¨ë“  ë°°ì¹˜</td>
                                </tr>
                                <tr>
                                    <td>ì”ë¥˜ DNA</td>
                                    <td>qPCR</td>
                                    <td><10 ng/dose</td>
                                    <td>4ì‹œê°„</td>
                                    <td>ëª¨ë“  ë°°ì¹˜</td>
                                </tr>
                                <tr>
                                    <td>Endotoxin</td>
                                    <td>LAL</td>
                                    <td><5 EU/kg</td>
                                    <td>1ì‹œê°„</td>
                                    <td>ëª¨ë“  ë°°ì¹˜</td>
                                </tr>
                                <tr>
                                    <td>ë¬´ê· ì„±</td>
                                    <td>USP <71></td>
                                    <td>ìŒì„±</td>
                                    <td>14ì¼</td>
                                    <td>ëª¨ë“  ë°°ì¹˜</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">6.2 ì•ˆì •ì„± ì‹œí—˜</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ“ˆ ì•ˆì •ì„± ì˜ˆì¸¡ ëª¨ë¸</div>
                        <div class="calculator">
                            <label>ì´ˆê¸° ì—­ê°€ (log GC/mL):</label>
                            <input type="number" class="calc-input" id="initialTiter" value="13.0" placeholder="Initial titer" step="0.1">
                            
                            <label>ë³´ê´€ ì˜¨ë„ (Â°C):</label>
                            <select class="calc-input" id="storageTemp">
                                <option value="-80">-80Â°C (ì¥ê¸°ë³´ê´€)</option>
                                <option value="-20">-20Â°C (ì¤‘ê¸°ë³´ê´€)</option>
                                <option value="4">4Â°C (ë‹¨ê¸°ë³´ê´€)</option>
                                <option value="25">25Â°C (ìŠ¤íŠ¸ë ˆìŠ¤)</option>
                            </select>
                            
                            <label>ë³´ê´€ ê¸°ê°„ (ê°œì›”):</label>
                            <input type="number" class="calc-input" id="storagePeriod" value="12" placeholder="ë³´ê´€ ê¸°ê°„">
                            
                            <button class="btn btn-primary" onclick="calculateStability()">ì•ˆì •ì„± ì˜ˆì¸¡</button>
                            
                            <div class="calc-result" id="stabilityResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="success-box">
                        <strong>âœ… ì•ˆì •ì„± ê°€ì´ë“œë¼ì¸:</strong><br>
                        â€¢ -80Â°C: 24ê°œì›” ì´ìƒ ì•ˆì •<br>
                        â€¢ -20Â°C: 12ê°œì›” ì•ˆì •<br>
                        â€¢ 2-8Â°C: 1-3ê°œì›” ì•ˆì •<br>
                        â€¢ 25Â°C: 1ì£¼ì¼ ì´ë‚´<br>
                        â€¢ ë™ê²°í•´ë™: 3íšŒê¹Œì§€ í—ˆìš©
                    </div>

                    <div class="section-title">6.3 ë¶„ì„ë²• ë°¸ë¦¬ë°ì´ì…˜</div>
                    
                    <div class="checklist">
                        <h4>ë¶„ì„ë²• ë°¸ë¦¬ë°ì´ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
                        <div class="checklist-item">
                            <input type="checkbox" id="val1">
                            <label for="val1">ì •í™•ë„ (Accuracy): íšŒìˆ˜ìœ¨ 95-105%</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="val2">
                            <label for="val2">ì •ë°€ë„ (Precision): CV <15%</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="val3">
                            <label for="val3">ì§ì„ ì„± (Linearity): RÂ² >0.99</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="val4">
                            <label for="val4">ë²”ìœ„ (Range): 50-150% ë†ë„</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="val5">
                            <label for="val5">ê²€ì¶œí•œê³„ (LOD): S/N >3</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="val6">
                            <label for="val6">ì •ëŸ‰í•œê³„ (LOQ): S/N >10</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="val7">
                            <label for="val7">ê²¬ê³ ì„± (Robustness): ì¡°ê±´ ë³€í™” ëŒ€ì‘</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="val8">
                            <label for="val8">íŠ¹ì´ì„± (Specificity): ê°„ì„­ë¬¼ì§ˆ ë¶€ì¬</label>
                        </div>
                    </div>
                </div>

                <!-- Chapter: GMP -->
                <div class="chapter" id="chapter-gmp">
                    <h1 class="chapter-title">ì œ7ì¥ GMP ë° ìŠ¤ì¼€ì¼ì—… ì „ëµ</h1>
                    <p class="chapter-subtitle">ê·œì œ ì¤€ìˆ˜ì™€ ìƒì—…ì  ìƒì‚°ì„ ìœ„í•œ ì „ëµ</p>
                    
                    <div class="section-title">7.1 GMP ì‹œì„¤ ì„¤ê³„</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ­ ì‹œì„¤ ë©´ì  ê³„ì‚°ê¸°</div>
                        <div class="calculator">
                            <label>ì—°ê°„ ìƒì‚° ëª©í‘œ (ë°°ì¹˜ ìˆ˜):</label>
                            <input type="number" class="calc-input" id="annualBatches" value="50" placeholder="ì—°ê°„ ë°°ì¹˜ ìˆ˜">
                            
                            <label>ë°°ì¹˜ë‹¹ ì²˜ë¦¬ ì‹œê°„ (ì¼):</label>
                            <input type="number" class="calc-input" id="batchCycleTime" value="10" placeholder="ì´ ê³µì • ì‹œê°„">
                            
                            <label>ë™ì‹œ ì§„í–‰ ë¼ì¸ ìˆ˜:</label>
                            <input type="number" class="calc-input" id="parallelLines" value="2" placeholder="ìƒì‚° ë¼ì¸ ìˆ˜">
                            
                            <label>ë°°ì¹˜ í¬ê¸° (L):</label>
                            <input type="number" class="calc-input" id="facilityBatchSize" value="500" placeholder="ë°°ì¹˜ í¬ê¸°">
                            
                            <button class="btn btn-primary" onclick="calculateFacility()">ì‹œì„¤ ìš”êµ¬ì‚¬í•­ ê³„ì‚°</button>
                            
                            <div class="calc-result" id="facilityResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ì²­ì •ë„ ë“±ê¸‰</th>
                                    <th>ìš©ë„</th>
                                    <th>ì…ììˆ˜ (â‰¥0.5Î¼m/mÂ³)</th>
                                    <th>ì°¨ì•• (Pa)</th>
                                    <th>í™˜ê¸°íšŸìˆ˜ (/h)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Grade A</td>
                                    <td>ë¬´ê·  ì¡°ì‘</td>
                                    <td>3,520</td>
                                    <td>+15</td>
                                    <td>20+ (ë‹¨ë°©í–¥)</td>
                                </tr>
                                <tr>
                                    <td>Grade B</td>
                                    <td>ë¬´ê·  ì¡°ë¦½</td>
                                    <td>3,520</td>
                                    <td>+10</td>
                                    <td>20+</td>
                                </tr>
                                <tr>
                                    <td>Grade C</td>
                                    <td>ì œì¡° êµ¬ì—­</td>
                                    <td>352,000</td>
                                    <td>+5</td>
                                    <td>15-20</td>
                                </tr>
                                <tr>
                                    <td>Grade D</td>
                                    <td>ë³´ì¡° êµ¬ì—­</td>
                                    <td>3,520,000</td>
                                    <td>0</td>
                                    <td>10-15</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">7.2 ê³µì • ê²€ì¦ (Process Validation)</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ“Š ê³µì • ëŠ¥ë ¥ í‰ê°€</div>
                        <div class="calculator">
                            <label>ê³µì • í‰ê· ê°’:</label>
                            <input type="number" class="calc-input" id="processMean" value="85" placeholder="ê³µì • í‰ê· " step="0.1">
                            
                            <label>í‘œì¤€í¸ì°¨:</label>
                            <input type="number" class="calc-input" id="processStd" value="3.5" placeholder="í‘œì¤€í¸ì°¨" step="0.1">
                            
                            <label>ê·œê²© í•˜í•œ (LSL):</label>
                            <input type="number" class="calc-input" id="lsl" value="70" placeholder="í•˜í•œê°’">
                            
                            <label>ê·œê²© ìƒí•œ (USL):</label>
                            <input type="number" class="calc-input" id="usl" value="100" placeholder="ìƒí•œê°’">
                            
                            <button class="btn btn-primary" onclick="calculateCpk()">ê³µì • ëŠ¥ë ¥ ê³„ì‚°</button>
                            
                            <div class="calc-result" id="cpkResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <strong>ğŸ“‹ PPQ (Process Performance Qualification) ìš”êµ¬ì‚¬í•­:</strong><br>
                        â€¢ ì—°ì† 3ë°°ì¹˜ ì„±ê³µì  ìƒì‚°<br>
                        â€¢ ëª¨ë“  CQA ê·œê²© ë‚´ ê²°ê³¼<br>
                        â€¢ ê³µì • ëŠ¥ë ¥ì§€ìˆ˜ Cpk >1.33<br>
                        â€¢ ìˆ˜ìœ¨ ëª©í‘œê°’ ë‹¬ì„±<br>
                        â€¢ ë¶ˆìˆœë¬¼ í—ˆìš©ê¸°ì¤€ ì¤€ìˆ˜
                    </div>

                    <div class="section-title">7.3 ìœ„í—˜ ê´€ë¦¬ (Risk Management)</div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ìœ„í—˜ ìš”ì†Œ</th>
                                    <th>ë°œìƒ ê°€ëŠ¥ì„±</th>
                                    <th>ì‹¬ê°ë„</th>
                                    <th>ìœ„í—˜ë„</th>
                                    <th>ì™„í™” ì „ëµ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ì„¸í¬ì£¼ ì˜¤ì—¼</td>
                                    <td>ë‚®ìŒ (2)</td>
                                    <td>ë†’ìŒ (9)</td>
                                    <td>18</td>
                                    <td>ë¬´ê·  ì¡°ì‘, í™˜ê²½ ëª¨ë‹ˆí„°ë§</td>
                                </tr>
                                <tr>
                                    <td>Transfection ì‹¤íŒ¨</td>
                                    <td>ì¤‘ê°„ (5)</td>
                                    <td>ì¤‘ê°„ (6)</td>
                                    <td>30</td>
                                    <td>ì‹œì•½ í’ˆì§ˆ ê´€ë¦¬, êµìœ¡</td>
                                </tr>
                                <tr>
                                    <td>ì •ì œ ì»¬ëŸ¼ ì˜¤ì—¼</td>
                                    <td>ì¤‘ê°„ (4)</td>
                                    <td>ë†’ìŒ (8)</td>
                                    <td>32</td>
                                    <td>CIP/SIP ê²€ì¦, ìˆ˜ëª… ê´€ë¦¬</td>
                                </tr>
                                <tr>
                                    <td>ì¥ë¹„ ê³ ì¥</td>
                                    <td>ì¤‘ê°„ (5)</td>
                                    <td>ì¤‘ê°„ (7)</td>
                                    <td>35</td>
                                    <td>ì˜ˆë°© ì •ë¹„, ë°±ì—… ì¥ë¹„</td>
                                </tr>
                                <tr>
                                    <td>í’ˆì§ˆ ê·œê²© ì´íƒˆ</td>
                                    <td>ë†’ìŒ (6)</td>
                                    <td>ë†’ìŒ (8)</td>
                                    <td>48</td>
                                    <td>ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§, PAT</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Chapter: Automation -->
                <div class="chapter" id="chapter-automation">
                    <h1 class="chapter-title">ì œ8ì¥ ê³µì • ë¶„ì„ê¸°ìˆ (PAT) ë° ìë™í™”</h1>
                    <p class="chapter-subtitle">ìŠ¤ë§ˆíŠ¸ ì œì¡°ë¥¼ ìœ„í•œ ì²¨ë‹¨ ê¸°ìˆ  ì ìš©</p>
                    
                    <div class="section-title">8.1 ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ“¡ ì„¼ì„œ ROI ê³„ì‚°ê¸°</div>
                        <div class="calculator">
                            <label>ì—°ê°„ ë°°ì¹˜ ìˆ˜:</label>
                            <input type="number" class="calc-input" id="sensorBatches" value="100" placeholder="ì—°ê°„ ë°°ì¹˜ ìˆ˜">
                            
                            <label>ë°°ì¹˜ë‹¹ ê°€ì¹˜ ($):</label>
                            <input type="number" class="calc-input" id="batchValue" value="500000" placeholder="ë°°ì¹˜ ê°€ì¹˜">
                            
                            <label>ì‹¤íŒ¨ìœ¨ ê°œì„  (%):</label>
                            <input type="number" class="calc-input" id="failureReduction" value="15" placeholder="ì‹¤íŒ¨ìœ¨ ê°ì†Œ">
                            
                            <label>ì„¼ì„œ ì‹œìŠ¤í…œ ë¹„ìš© ($):</label>
                            <input type="number" class="calc-input" id="sensorCost" value="200000" placeholder="ì´ˆê¸° íˆ¬ì">
                            
                            <button class="btn btn-primary" onclick="calculateROI()">ROI ê³„ì‚°</button>
                            
                            <div class="calc-result" id="roiResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ì„¼ì„œ ìœ í˜•</th>
                                    <th>ì¸¡ì • í•­ëª©</th>
                                    <th>ì •í™•ë„</th>
                                    <th>ì‘ë‹µ ì‹œê°„</th>
                                    <th>ë¹„ìš© ($)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>NIR ë¶„ê´‘ê³„</td>
                                    <td>Glucose, Lactate</td>
                                    <td>Â±5%</td>
                                    <td><1ë¶„</td>
                                    <td>50,000-100,000</td>
                                </tr>
                                <tr>
                                    <td>Raman ë¶„ê´‘ê³„</td>
                                    <td>ì•„ë¯¸ë…¸ì‚°, pH</td>
                                    <td>Â±3%</td>
                                    <td><30ì´ˆ</td>
                                    <td>80,000-150,000</td>
                                </tr>
                                <tr>
                                    <td>Capacitance ì„¼ì„œ</td>
                                    <td>ì„¸í¬ë°€ë„</td>
                                    <td>Â±10%</td>
                                    <td>ì—°ì†</td>
                                    <td>15,000-30,000</td>
                                </tr>
                                <tr>
                                    <td>Image ë¶„ì„ê¸°</td>
                                    <td>ì„¸í¬ìˆ˜, í¬ê¸°</td>
                                    <td>Â±5%</td>
                                    <td>1-5ë¶„</td>
                                    <td>100,000-200,000</td>
                                </tr>
                                <tr>
                                    <td>Mass spectrometer</td>
                                    <td>ëŒ€ì‚¬ë¬¼ì§ˆ</td>
                                    <td>Â±1%</td>
                                    <td>5-10ë¶„</td>
                                    <td>200,000-500,000</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">8.2 ì¸ê³µì§€ëŠ¥ ì‘ìš©</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ¤– AI ì˜ˆì¸¡ ëª¨ë¸ ì‹œë®¬ë ˆì´í„°</div>
                        <div class="calculator">
                            <label>í˜„ì¬ ì„¸í¬ë°€ë„ (Ã—10â¶ cells/mL):</label>
                            <input type="number" class="calc-input" id="aiCellDensity" value="2.5" placeholder="í˜„ì¬ ë°€ë„" step="0.1">
                            
                            <label>ìƒì¡´ìœ¨ (%):</label>
                            <input type="number" class="calc-input" id="aiViability" value="92" placeholder="í˜„ì¬ ìƒì¡´ìœ¨">
                            
                            <label>Glucose ë†ë„ (g/L):</label>
                            <input type="number" class="calc-input" id="aiGlucose" value="1.5" placeholder="í˜„ì¬ í¬ë„ë‹¹ ë†ë„" step="0.1">
                            
                            <label>ê°ì—¼ í›„ ì‹œê°„ (hours):</label>
                            <input type="number" class="calc-input" id="aiPostInfection" value="48" placeholder="ê°ì—¼ í›„ ì‹œê°„">
                            
                            <button class="btn btn-primary" onclick="predictHarvest()">Harvest ì‹œì  ì˜ˆì¸¡</button>
                            
                            <div class="calc-result" id="aiPredictionResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <strong>ğŸ¯ AI ì ìš© ë¶„ì•¼:</strong><br>
                        â€¢ ìµœì  Harvest ì‹œì  ì˜ˆì¸¡<br>
                        â€¢ ë°°ì¹˜ í’ˆì§ˆ ì¡°ê¸° ì˜ˆì¸¡<br>
                        â€¢ ê³µì • í¸ì°¨ ìë™ ê°ì§€<br>
                        â€¢ ìˆ˜ìœ¨ ìµœì í™” ì¡°ê±´ ì œì•ˆ<br>
                        â€¢ ì˜ˆì¸¡ ìœ ì§€ë³´ìˆ˜ ìŠ¤ì¼€ì¤„ë§
                    </div>

                    <div class="section-title">8.3 ìë™í™” ë ˆë²¨</div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ìë™í™” ë ˆë²¨</th>
                                    <th>ì„¤ëª…</th>
                                    <th>ì ìš© ë²”ìœ„</th>
                                    <th>íˆ¬ì ë¹„ìš©</th>
                                    <th>ROI ê¸°ê°„</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Level 1</td>
                                    <td>ê¸°ë³¸ ì œì–´</td>
                                    <td>pH, DO, ì˜¨ë„</td>
                                    <td>ë‚®ìŒ</td>
                                    <td>1-2ë…„</td>
                                </tr>
                                <tr>
                                    <td>Level 2</td>
                                    <td>ê³µì • ëª¨ë‹ˆí„°ë§</td>
                                    <td>ì‹¤ì‹œê°„ ë¶„ì„</td>
                                    <td>ì¤‘ê°„</td>
                                    <td>2-3ë…„</td>
                                </tr>
                                <tr>
                                    <td>Level 3</td>
                                    <td>ê³ ê¸‰ ì œì–´</td>
                                    <td>Feed ì œì–´, ìˆ˜ìœ¨ ìµœì í™”</td>
                                    <td>ë†’ìŒ</td>
                                    <td>3-4ë…„</td>
                                </tr>
                                <tr>
                                    <td>Level 4</td>
                                    <td>AI ê¸°ë°˜ ì œì–´</td>
                                    <td>ì „ì²´ ê³µì • ììœ¨í™”</td>
                                    <td>ë§¤ìš° ë†’ìŒ</td>
                                    <td>4-5ë…„</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">8.4 ë””ì§€í„¸ íŠ¸ìœˆ</div>
                    
                    <div class="checklist">
                        <h4>ë””ì§€í„¸ íŠ¸ìœˆ êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
                        <div class="checklist-item">
                            <input type="checkbox" id="dt1">
                            <label for="dt1">ë¬¼ë¦¬ì  ê³µì • ëª¨ë¸ë§ ì™„ë£Œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="dt2">
                            <label for="dt2">ì‹¤ì‹œê°„ ë°ì´í„° ì—°ê²° êµ¬ì¶•</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="dt3">
                            <label for="dt3">ê°€ìƒ ì„¼ì„œ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="dt4">
                            <label for="dt4">ì˜ˆì¸¡ ì•Œê³ ë¦¬ì¦˜ ê°œë°œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="dt5">
                            <label for="dt5">ì‹œë®¬ë ˆì´ì…˜ ì—”ì§„ í†µí•©</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="dt6">
                            <label for="dt6">ìµœì í™” ëª¨ë“ˆ êµ¬í˜„</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="dt7">
                            <label for="dt7">ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ê°œë°œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="dt8">
                            <label for="dt8">ê²€ì¦ ë° êµì • ì™„ë£Œ</label>
                        </div>
                    </div>
                </div>

                <!-- Chapter: Future -->
                <div class="chapter" id="chapter-future">
                    <h1 class="chapter-title">ì œ9ì¥ ìµœì‹  ê¸°ìˆ  ë™í–¥ê³¼ ì „ë§</h1>
                    <p class="chapter-subtitle">AAV ì œì¡° ê¸°ìˆ ì˜ ë¯¸ë˜ì™€ í˜ì‹  ë°©í–¥</p>
                    
                    <div class="section-title">9.1 ì°¨ì„¸ëŒ€ ìº¡ì‹œë“œ ê°œë°œ</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ§¬ ìº¡ì‹œë“œ ê°œë°œ ROI ì˜ˆì¸¡</div>
                        <div class="calculator">
                            <label>ê°œë°œ ë¹„ìš© ($M):</label>
                            <input type="number" class="calc-input" id="developmentCost" value="10" placeholder="ê°œë°œ íˆ¬ì ë¹„ìš©">
                            
                            <label>íš¨ìœ¨ ê°œì„  ë°°ìˆ˜:</label>
                            <input type="number" class="calc-input" id="efficiencyGain" value="5" placeholder="í‘œì  íŠ¹ì´ì„± ê°œì„ " step="0.1">
                            
                            <label>ì‹œì¥ í¬ê¸° ($M):</label>
                            <input type="number" class="calc-input" id="marketSize" value="500" placeholder="ëŒ€ìƒ ì‹œì¥ ê·œëª¨">
                            
                            <label>ì‹œì¥ ì ìœ ìœ¨ (%):</label>
                            <input type="number" class="calc-input" id="marketShare" value="20" placeholder="ì˜ˆìƒ ì ìœ ìœ¨">
                            
                            <button class="btn btn-primary" onclick="calculateCapsidROI()">ê°œë°œ ROI ê³„ì‚°</button>
                            
                            <div class="calc-result" id="capsidROIResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ì°¨ì„¸ëŒ€ ìº¡ì‹œë“œ</th>
                                    <th>ê°œë°œ ê¸°ê´€</th>
                                    <th>ì£¼ìš” íŠ¹ì§•</th>
                                    <th>ì„ìƒ ë‹¨ê³„</th>
                                    <th>ìƒì—…í™” ì˜ˆìƒ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>AAV-PHP.eB</td>
                                    <td>Caltech/Voyager</td>
                                    <td>BBB íˆ¬ê³¼ 40x í–¥ìƒ</td>
                                    <td>Phase I/II</td>
                                    <td>2026-2027</td>
                                </tr>
                                <tr>
                                    <td>MyoAAV</td>
                                    <td>Harvard/Pfizer</td>
                                    <td>ì‹¬ê·¼ íŠ¹ì´ì„± 5x ì¦ê°€</td>
                                    <td>Preclinical</td>
                                    <td>2027-2028</td>
                                </tr>
                                <tr>
                                    <td>LK03</td>
                                    <td>UPenn</td>
                                    <td>ê°„ íŠ¹ì´ì„±, Detargeting</td>
                                    <td>Phase I</td>
                                    <td>2025-2026</td>
                                </tr>
                                <tr>
                                    <td>7m8</td>
                                    <td>UNC</td>
                                    <td>ë§ë§‰ íˆ¬ê³¼ì„±</td>
                                    <td>Preclinical</td>
                                    <td>2026-2027</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">9.2 ì—°ì†ê³µì • ê¸°ìˆ </div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ”„ ì—°ì†ê³µì • ê²½ì œì„± ë¶„ì„</div>
                        <div class="calculator">
                            <label>ë°°ì¹˜ ê³µì • ìˆ˜ìœ¨ (%):</label>
                            <input type="number" class="calc-input" id="batchYield" value="65" placeholder="ê¸°ì¡´ ë°°ì¹˜ ìˆ˜ìœ¨">
                            
                            <label>ì—°ì† ê³µì • ìˆ˜ìœ¨ (%):</label>
                            <input type="number" class="calc-input" id="continuousYield" value="85" placeholder="ì—°ì†ê³µì • ìˆ˜ìœ¨">
                            
                            <label>ìš´ì˜ ì‹œê°„ ì¦ê°€ (%):</label>
                            <input type="number" class="calc-input" id="uptimeImprovement" value="40" placeholder="ê°€ë™ë¥  í–¥ìƒ">
                            
                            <label>ì´ˆê¸° íˆ¬ì ì¦ê°€ (%):</label>
                            <input type="number" class="calc-input" id="capexIncrease" value="50" placeholder="CAPEX ì¦ê°€">
                            
                            <button class="btn btn-primary" onclick="calculateContinuous()">ì—°ì†ê³µì • ë¶„ì„</button>
                            
                            <div class="calc-result" id="continuousResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="section-title">9.3 í˜ì‹  ê¸°ìˆ  ë¡œë“œë§µ</div>
                    
                    <div style="background: linear-gradient(135deg, #f0f9ff, #e0f2fe); border-radius: 12px; padding: 2rem; margin: 2rem 0;">
                        <h4 style="text-align: center; margin-bottom: 2rem; color: var(--primary-color);">ê¸°ìˆ  ë°œì „ íƒ€ì„ë¼ì¸</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                            <div style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <h5 style="color: var(--primary-color); margin-bottom: 1rem;">2025-2026</h5>
                                <ul style="list-style: none; padding: 0;">
                                    <li>âœ… AAVX í”Œë«í¼ í‘œì¤€í™”</li>
                                    <li>âœ… ì—°ì† í¬ë¡œë§ˆí† ê·¸ë˜í”¼</li>
                                    <li>âœ… AI ê¸°ë°˜ ê³µì • ì œì–´</li>
                                    <li>âœ… ì°¨ì„¸ëŒ€ ìº¡ì‹œë“œ ì„ìƒ</li>
                                </ul>
                            </div>
                            <div style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <h5 style="color: var(--primary-color); margin-bottom: 1rem;">2027-2028</h5>
                                <ul style="list-style: none; padding: 0;">
                                    <li>ğŸ”„ ì™„ì „ ì—°ì†ê³µì •</li>
                                    <li>ğŸ”„ ë¬´ì„¸í¬ ìƒì‚° ì‹œìŠ¤í…œ</li>
                                    <li>ğŸ”„ ì‹¤ì‹œê°„ í’ˆì§ˆ ê´€ë¦¬</li>
                                    <li>ğŸ”„ ê°œì¸ë§ì¶¤í˜• AAV</li>
                                </ul>
                            </div>
                            <div style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <h5 style="color: var(--primary-color); margin-bottom: 1rem;">2029-2030</h5>
                                <ul style="list-style: none; padding: 0;">
                                    <li>ğŸš€ ììœ¨ ì œì¡° ì‹œì„¤</li>
                                    <li>ğŸš€ ë¶„ì‚° ìƒì‚° ë„¤íŠ¸ì›Œí¬</li>
                                    <li>ğŸš€ ë¹„ìš© 90% ì ˆê°</li>
                                    <li>ğŸš€ 1ì¼ ë‚´ ìƒì‚°</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="section-title">9.4 ê·œì œ í™˜ê²½ ë³€í™”</div>
                    
                    <div class="highlight-box">
                        <strong>ğŸ“‹ ì£¼ìš” ê·œì œ ë™í–¥ (2025-2030):</strong><br>
                        â€¢ Real-Time Release Testing (RTRT) í™•ëŒ€<br>
                        â€¢ ì—°ì†ê³µì •ì— ëŒ€í•œ ICH Q13 ê°€ì´ë“œë¼ì¸<br>
                        â€¢ AI/ML í™œìš© ìŠ¹ì¸ ê°€ì†í™”<br>
                        â€¢ Digital Twin ê¸°ë°˜ ê·œì œ ì œì¶œ<br>
                        â€¢ ê¸€ë¡œë²Œ ì¡°í™”ëœ CMC ê¸°ì¤€
                    </div>

                    <div class="warning-box">
                        <strong>âš ï¸ ë¯¸ë˜ ë„ì „ê³¼ì œ:</strong><br>
                        â€¢ ê°œì¸ë§ì¶¤í˜• ì¹˜ë£Œì œ ê·œì œ í”„ë ˆì„ì›Œí¬<br>
                        â€¢ ëŒ€ëŸ‰ ìƒì‚° ì‹œ í’ˆì§ˆ ì¼ê´€ì„± ìœ ì§€<br>
                        â€¢ ì‹ ì†í•œ ê¸°ìˆ  ë³€í™”ì— ëŒ€í•œ ê·œì œ ì ì‘<br>
                        â€¢ êµ­ì œì  ê³µê¸‰ë§ ê´€ë¦¬<br>
                        â€¢ ì‚¬ì´ë²„ ë³´ì•ˆ ë° ë°ì´í„° ë³´í˜¸
                    </div>

                    <div class="section-title">9.5 ë¹„ìš© ì ˆê° ì „ë§</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ’° ë¯¸ë˜ ë¹„ìš© ì˜ˆì¸¡ ëª¨ë¸</div>
                        <div class="calculator">
                            <label>í˜„ì¬ ì œì¡°ë¹„ìš© ($/dose):</label>
                            <input type="number" class="calc-input" id="currentCost" value="250000" placeholder="í˜„ì¬ ë¹„ìš©">
                            
                            <label>ëª©í‘œ ì—°ë„:</label>
                            <select class="calc-input" id="targetYear">
                                <option value="2026">2026</option>
                                <option value="2028">2028</option>
                                <option value="2030">2030</option>
                            </select>
                            
                            <label>ê¸°ìˆ  ë„ì…ë¥  (%):</label>
                            <input type="number" class="calc-input" id="adoptionRate" value="80" placeholder="ì‹ ê¸°ìˆ  ë„ì…ë¥ ">
                            
                            <button class="btn btn-primary" onclick="predictCostReduction()">ë¹„ìš© ì˜ˆì¸¡</button>
                            
                            <div class="calc-result" id="costPredictionResult" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <!-- Chapter: Tools -->
                <div class="chapter" id="chapter-tools">
                    <h1 class="chapter-title">ì‹¤ë¬´ ë„êµ¬</h1>
                    <p class="chapter-subtitle">AAV ì œì¡°ë¥¼ ìœ„í•œ ì‹¤ìš©ì ì¸ ê³„ì‚° ë„êµ¬ì™€ ì²´í¬ë¦¬ìŠ¤íŠ¸</p>
                    
                    <div class="section-title">ğŸ§® í†µí•© ê³„ì‚° ë„êµ¬</div>
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ’° ì¢…í•© ê²½ì œì„± ë¶„ì„</div>
                        <div class="calculator">
                            <label>ë°°ì¹˜ í¬ê¸° (L):</label>
                            <input type="number" class="calc-input" id="batchSize" value="200" placeholder="ë°°ì–‘ ë¶€í”¼">
                            
                            <label>ìˆ˜ìœ¨ (GC/mL):</label>
                            <input type="number" class="calc-input" id="yield" value="1e12" placeholder="ë°”ì´ëŸ¬ìŠ¤ ìˆ˜ìœ¨">
                            
                            <label>ë°°ì¹˜ë‹¹ ë¹„ìš© ($):</label>
                            <input type="number" class="calc-input" id="batchCost" value="50000" placeholder="ì´ ì œì¡° ë¹„ìš©">
                            
                            <label>í™˜ìë‹¹ ìš©ëŸ‰ (GC):</label>
                            <input type="number" class="calc-input" id="patientDose" value="1e15" placeholder="ì¹˜ë£Œìš©ëŸ‰">
                            
                            <button class="btn btn-primary" onclick="calculateEconomics()">ê²½ì œì„± ë¶„ì„</button>
                            
                            <div class="calc-result" id="economicsResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="section-title">âœ… ë§ˆìŠ¤í„° ì²´í¬ë¦¬ìŠ¤íŠ¸</div>
                    <div class="checklist">
                        <h4>GMP ìƒì‚° ë§ˆìŠ¤í„° ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
                        <div class="checklist-item">
                            <input type="checkbox" id="check1">
                            <label for="check1">MCB/WCB í’ˆì§ˆ í™•ì¸ ì™„ë£Œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check2">
                            <label for="check2">í”Œë¼ìŠ¤ë¯¸ë“œ QC ì‹œí—˜ ì™„ë£Œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check3">
                            <label for="check3">ë°°ì–‘ ì¥ë¹„ êµì • ì™„ë£Œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check4">
                            <label for="check4">ì •ì œ ì»¬ëŸ¼ ì‚¬ì „ ê²€ì¦ ì™„ë£Œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check5">
                            <label for="check5">ë¶„ì„ ë°©ë²• validation ì™„ë£Œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check6">
                            <label for="check6">ì‘ì—…ì êµìœ¡ ì™„ë£Œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check7">
                            <label for="check7">í™˜ê²½ ëª¨ë‹ˆí„°ë§ ì‹œì‘</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check8">
                            <label for="check8">ë°°ì¹˜ ê¸°ë¡ ì¤€ë¹„ ì™„ë£Œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check9">
                            <label for="check9">QC ì‹¤í—˜ì‹¤ ì¤€ë¹„ ì™„ë£Œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="check10">
                            <label for="check10">ì¶œí•˜ ìŠ¹ì¸ ì²´ê³„ í™•ë¦½</label>
                        </div>
                    </div>

                    <div class="section-title">ğŸ“Š ì¢…í•© í’ˆì§ˆ ê¸°ì¤€í‘œ</div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>í’ˆì§ˆ ì†ì„±</th>
                                    <th>ì‹œí—˜ ë°©ë²•</th>
                                    <th>í—ˆìš© ê¸°ì¤€</th>
                                    <th>ëª©í‘œê°’</th>
                                    <th>ì¤‘ìš”ë„</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ë°”ì´ëŸ¬ìŠ¤ ì—­ê°€</td>
                                    <td>qPCR</td>
                                    <td>â‰¥1Ã—10Â¹Â² GC/mL</td>
                                    <td>â‰¥1Ã—10Â¹Â³ GC/mL</td>
                                    <td>Critical</td>
                                </tr>
                                <tr>
                                    <td>Full capsid %</td>
                                    <td>AUC</td>
                                    <td>â‰¥70%</td>
                                    <td>â‰¥85%</td>
                                    <td>Critical</td>
                                </tr>
                                <tr>
                                    <td>Host Cell DNA</td>
                                    <td>qPCR</td>
                                    <td><10 ng/dose</td>
                                    <td><1 ng/dose</td>
                                    <td>Critical</td>
                                </tr>
                                <tr>
                                    <td>Host Cell Protein</td>
                                    <td>ELISA</td>
                                    <td><100 ng/dose</td>
                                    <td><10 ng/dose</td>
                                    <td>Major</td>
                                </tr>
                                <tr>
                                    <td>Endotoxin</td>
                                    <td>LAL</td>
                                    <td><5 EU/kg</td>
                                    <td><0.5 EU/mL</td>
                                    <td>Critical</td>
                                </tr>
                                <tr>
                                    <td>ë¬´ê· ì„±</td>
                                    <td>USP 71</td>
                                    <td>ìŒì„±</td>
                                    <td>ìŒì„±</td>
                                    <td>Critical</td>
                                </tr>
                                <tr>
                                    <td>Mycoplasma</td>
                                    <td>PCR/Culture</td>
                                    <td>ìŒì„±</td>
                                    <td>ìŒì„±</td>
                                    <td>Critical</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">ğŸ”§ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ</div>
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë„êµ¬</div>
                        <div class="calculator">
                            <label>ë¬¸ì œ ìœ í˜•:</label>
                            <select class="calc-input" id="problemType">
                                <option value="low_yield">ë‚®ì€ ìˆ˜ìœ¨</option>
                                <option value="high_empty">ë†’ì€ Empty capsid ë¹„ìœ¨</option>
                                <option value="contamination">ì˜¤ì—¼</option>
                                <option value="aggregation">ì‘ì§‘</option>
                                <option value="poor_recovery">ë‚®ì€ íšŒìˆ˜ìœ¨</option>
                            </select>
                            
                            <label>ë°œìƒ ë‹¨ê³„:</label>
                            <select class="calc-input" id="problemStage">
                                <option value="upstream">ìƒë¥˜ê³µì •</option>
                                <option value="downstream">í•˜ë¥˜ê³µì •</option>
                                <option value="formulation">ì œí˜•í™”</option>
                                <option value="storage">ë³´ê´€</option>
                            </select>
                            
                            <button class="btn btn-primary" onclick="troubleshoot()">í•´ê²°ë°©ì•ˆ ì œì‹œ</button>
                            
                            <div class="calc-result" id="troubleshootResult" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <!-- Chapter: Case Study -->
                <div class="chapter" id="chapter-casestudy">
                    <h1 class="chapter-title">ì‚¬ë¡€ ì—°êµ¬</h1>
                    <p class="chapter-subtitle">ì„±ê³µì ì¸ AAV ì œí’ˆ ê°œë°œ ì‚¬ë¡€ì™€ êµí›ˆ</p>
                    
                    <div class="section-title">ì‹¤ì œ AAV ì¹˜ë£Œì œ ê°œë°œ ì‚¬ë¡€</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ“Š ì œí’ˆ ë¹„êµ ë¶„ì„ ë„êµ¬</div>
                        <div class="calculator">
                            <label>ë¶„ì„í•  ì œí’ˆ:</label>
                            <select class="calc-input" id="productSelect">
                                <option value="zolgensma">Zolgensma (SMA)</option>
                                <option value="luxturna">Luxturna (LCA)</option>
                                <option value="glybera">Glybera (LPLD)</option>
                                <option value="hemgenix">Hemgenix (í˜ˆìš°ë³‘B)</option>
                                <option value="roctavian">Roctavian (í˜ˆìš°ë³‘A)</option>
                            </select>
                            
                            <label>ë¹„êµ í•­ëª©:</label>
                            <select class="calc-input" id="analysisType">
                                <option value="technical">ê¸°ìˆ ì  íŠ¹ì„±</option>
                                <option value="clinical">ì„ìƒ ê²°ê³¼</option>
                                <option value="manufacturing">ì œì¡° ì „ëµ</option>
                                <option value="regulatory">ê·œì œ ê²½ë¡œ</option>
                                <option value="commercial">ìƒì—…ì  ì„±ê³¼</option>
                            </select>
                            
                            <button class="btn btn-primary" onclick="analyzeProduct()">ì œí’ˆ ë¶„ì„</button>
                            
                            <div class="calc-result" id="productAnalysisResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ì œí’ˆëª…</th>
                                    <th>ê°œë°œì‚¬</th>
                                    <th>ì ì‘ì¦</th>
                                    <th>í˜ˆì²­í˜•</th>
                                    <th>ìŠ¹ì¸ ì—°ë„</th>
                                    <th>ê°€ê²©</th>
                                    <th>í˜„í™©</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Zolgensma</td>
                                    <td>Novartis</td>
                                    <td>ì²™ìˆ˜ì„± ê·¼ìœ„ì¶•ì¦</td>
                                    <td>AAV9</td>
                                    <td>2019</td>
                                    <td>$2.1M</td>
                                    <td>íŒë§¤ ì¤‘</td>
                                </tr>
                                <tr>
                                    <td>Luxturna</td>
                                    <td>Spark Therapeutics</td>
                                    <td>ë ˆë² ë¥´ ì„ ì²œì„± í‘ì•”</td>
                                    <td>AAV2</td>
                                    <td>2017</td>
                                    <td>$425K</td>
                                    <td>íŒë§¤ ì¤‘</td>
                                </tr>
                                <tr>
                                    <td>Glybera</td>
                                    <td>uniQure</td>
                                    <td>ì§€ë‹¨ë°±ì§€ì§ˆë¶„í•´íš¨ì†Œ ê²°í•</td>
                                    <td>AAV1</td>
                                    <td>2012</td>
                                    <td>$1.2M</td>
                                    <td>ì‹œì¥ ì² ìˆ˜</td>
                                </tr>
                                <tr>
                                    <td>Hemgenix</td>
                                    <td>CSL Behring</td>
                                    <td>í˜ˆìš°ë³‘B</td>
                                    <td>AAV5</td>
                                    <td>2022</td>
                                    <td>$3.5M</td>
                                    <td>íŒë§¤ ì¤‘</td>
                                </tr>
                                <tr>
                                    <td>Roctavian</td>
                                    <td>BioMarin</td>
                                    <td>í˜ˆìš°ë³‘A</td>
                                    <td>AAV5</td>
                                    <td>2022 (EU)</td>
                                    <td>$2.9M</td>
                                    <td>ì œí•œì  ìŠ¹ì¸</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">ì„±ê³µ ìš”ì¸ ë¶„ì„</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ¯ ì„±ê³µ ìš”ì¸ ê°€ì¤‘ì¹˜ ë¶„ì„</div>
                        <div class="calculator">
                            <label>ê¸°ìˆ ì  ìš°ìˆ˜ì„± (%):</label>
                            <input type="range" class="calc-input" id="techWeight" min="0" max="100" value="25" oninput="updateWeights()">
                            <span id="techValue">25%</span>
                            
                            <label>ì„ìƒ íš¨ê³¼ (%):</label>
                            <input type="range" class="calc-input" id="clinicalWeight" min="0" max="100" value="30" oninput="updateWeights()">
                            <span id="clinicalValue">30%</span>
                            
                            <label>ì œì¡° íš¨ìœ¨ì„± (%):</label>
                            <input type="range" class="calc-input" id="manufWeight" min="0" max="100" value="20" oninput="updateWeights()">
                            <span id="manufValue">20%</span>
                            
                            <label>ì‹œì¥ ì ‘ê·¼ì„± (%):</label>
                            <input type="range" class="calc-input" id="marketWeight" min="0" max="100" value="25" oninput="updateWeights()">
                            <span id="marketValue">25%</span>
                            
                            <div style="margin-top: 1rem;">
                                <strong>ì´í•©: <span id="totalWeight">100%</span></strong>
                            </div>
                            
                            <button class="btn btn-primary" onclick="calculateSuccess()">ì„±ê³µ ì ìˆ˜ ê³„ì‚°</button>
                            
                            <div class="calc-result" id="successResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="section-title">ì‹¤íŒ¨ ì‚¬ë¡€ì—ì„œ ë°°ìš°ëŠ” êµí›ˆ</div>
                    
                    <div class="warning-box">
                        <strong>âš ï¸ Glybera ì‚¬ë¡€ ë¶„ì„:</strong><br>
                        â€¢ ë¬¸ì œì : ê·¹ë„ë¡œ ë†’ì€ ê°€ê²© ($1.2M), ì œí•œì  í™˜ìêµ°<br>
                        â€¢ ì œì¡° ì´ìŠˆ: ë³µì¡í•œ ìƒì‚° ê³µì •, ë†’ì€ ì œì¡° ë¹„ìš©<br>
                        â€¢ ìƒì—…ì  ì‹¤íŒ¨: 5ë…„ê°„ ë‹¨ 1ëª… ì¹˜ë£Œ í›„ ì‹œì¥ ì² ìˆ˜<br>
                        â€¢ êµí›ˆ: ê¸°ìˆ ì  ì„±ê³µë§Œìœ¼ë¡œëŠ” ë¶€ì¡±, ê²½ì œì„±ê³¼ ì ‘ê·¼ì„± í•„ìˆ˜
                    </div>

                    <div class="success-box">
                        <strong>âœ… Zolgensma ì„±ê³µ ìš”ì¸:</strong><br>
                        â€¢ ëª…í™•í•œ ì˜í•™ì  í•„ìš”ì„± (ìƒëª…ì„ ìœ„í˜‘í•˜ëŠ” í¬ê·€ì§ˆí™˜)<br>
                        â€¢ ê°•ë ¥í•œ ì„ìƒ íš¨ê³¼ (ìš´ë™ ëŠ¥ë ¥ ê°œì„ , ìƒì¡´ìœ¨ í–¥ìƒ)<br>
                        â€¢ íš¨ìœ¨ì  ì œì¡° ê³µì • (Novartis ëŒ€ê·œëª¨ ìƒì‚° ëŠ¥ë ¥)<br>
                        â€¢ ì „ëµì  ê°€ê²© ì •ì±… (ë¶„í•  ì§€ë¶ˆ, ì„±ê³¼ ê¸°ë°˜ ê³„ì•½)
                    </div>
                </div>

                <!-- Chapter: Regulatory Guide -->
                <div class="chapter" id="chapter-regulatory">
                    <h1 class="chapter-title">ê·œì œ ê°€ì´ë“œ</h1>
                    <p class="chapter-subtitle">ì „ ì„¸ê³„ ê·œì œ ê¸°ê´€ì˜ AAV ì¹˜ë£Œì œ ìŠ¹ì¸ ìš”êµ¬ì‚¬í•­</p>
                    
                    <div class="section-title">ì£¼ìš” ê·œì œ ê¸°ê´€ë³„ ìš”êµ¬ì‚¬í•­</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸŒ ê·œì œ ê²½ë¡œ ì„ íƒ ë„êµ¬</div>
                        <div class="calculator">
                            <label>ê°œë°œ ë‹¨ê³„:</label>
                            <select class="calc-input" id="devStage">
                                <option value="preclinical">ì „ì„ìƒ</option>
                                <option value="phase1">Phase I</option>
                                <option value="phase2">Phase II</option>
                                <option value="phase3">Phase III</option>
                                <option value="approval">ìŠ¹ì¸ ì‹ ì²­</option>
                            </select>
                            
                            <label>ëª©í‘œ ì‹œì¥:</label>
                            <select class="calc-input" id="targetMarket">
                                <option value="us">ë¯¸êµ­ (FDA)</option>
                                <option value="eu">ìœ ëŸ½ (EMA)</option>
                                <option value="japan">ì¼ë³¸ (PMDA)</option>
                                <option value="global">ê¸€ë¡œë²Œ</option>
                            </select>
                            
                            <label>ì ì‘ì¦ íŠ¹ì„±:</label>
                            <select class="calc-input" id="indicationType">
                                <option value="rare">í¬ê·€ì§ˆí™˜</option>
                                <option value="common">ì¼ë°˜ì§ˆí™˜</option>
                                <option value="pediatric">ì†Œì•„ì§ˆí™˜</option>
                                <option value="oncology">ì•”</option>
                            </select>
                            
                            <button class="btn btn-primary" onclick="getRegulatory()">ê·œì œ ê²½ë¡œ ì œì‹œ</button>
                            
                            <div class="calc-result" id="regulatoryResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ê·œì œê¸°ê´€</th>
                                    <th>íŠ¹ë³„ í”„ë¡œê·¸ë¨</th>
                                    <th>ì¥ì </th>
                                    <th>ìš”êµ¬ì‚¬í•­</th>
                                    <th>ì‹¬ì‚¬ ê¸°ê°„</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>FDA</td>
                                    <td>Breakthrough Therapy</td>
                                    <td>ìš°ì„ ì‹¬ì‚¬, ì§‘ì¤‘ ì§€ì›</td>
                                    <td>ì˜ˆë¹„ ì„ìƒ íš¨ê³¼ ì…ì¦</td>
                                    <td>6ê°œì›”</td>
                                </tr>
                                <tr>
                                    <td>FDA</td>
                                    <td>Orphan Drug</td>
                                    <td>ì‹œì¥ë…ì ê¶Œ 7ë…„</td>
                                    <td>í¬ê·€ì§ˆí™˜ (<20ë§Œëª…)</td>
                                    <td>í‘œì¤€</td>
                                </tr>
                                <tr>
                                    <td>EMA</td>
                                    <td>PRIME</td>
                                    <td>ì¡°ê¸° ê³¼í•™ì  ì¡°ì–¸</td>
                                    <td>ì˜í•™ì  í•„ìš”ì„± ì…ì¦</td>
                                    <td>150ì¼</td>
                                </tr>
                                <tr>
                                    <td>EMA</td>
                                    <td>ATMP</td>
                                    <td>ì „ë¬¸ ì‹¬ì‚¬ìœ„ì›íšŒ</td>
                                    <td>í’ˆì§ˆ, ì•ˆì „ì„±, íš¨ëŠ¥</td>
                                    <td>210ì¼</td>
                                </tr>
                                <tr>
                                    <td>PMDA</td>
                                    <td>Sakigake</td>
                                    <td>ì‹ ì†ì‹¬ì‚¬, ìš°ì„ ê¶Œ</td>
                                    <td>í˜ì‹ ì„±, ì¼ë³¸ ìš°ì„ </td>
                                    <td>6ê°œì›”</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">CMC ì œì¶œ ìš”êµ¬ì‚¬í•­</div>
                    
                    <div class="checklist">
                        <h4>FDA IND ì œì¶œ ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
                        <div class="checklist-item">
                            <input type="checkbox" id="cmc1">
                            <label for="cmc1">ë²¡í„° ì„¤ê³„ ë° êµ¬ì„± ìš”ì†Œ ê¸°ìˆ </label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="cmc2">
                            <label for="cmc2">ì œì¡° ê³µì • ìƒì„¸ ê¸°ìˆ ì„œ</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="cmc3">
                            <label for="cmc3">ì‹œì„¤ ë° ì¥ë¹„ ì •ë³´</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="cmc4">
                            <label for="cmc4">í’ˆì§ˆ ê´€ë¦¬ ì‹œí—˜ë²•</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="cmc5">
                            <label for="cmc5">ì•ˆì •ì„± ë°ì´í„°</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="cmc6">
                            <label for="cmc6">í™˜ê²½ ì•ˆì „ì„± í‰ê°€</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="cmc7">
                            <label for="cmc7">ë°”ì´ëŸ¬ìŠ¤ ì•ˆì „ì„± ì‹œí—˜</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="cmc8">
                            <label for="cmc8">ì›ë£Œì˜ì•½í’ˆ ì •ë³´</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="cmc9">
                            <label for="cmc9">ì™„ì œì˜ì•½í’ˆ ì •ë³´</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="cmc10">
                            <label for="cmc10">ë¼ë²¨ë§ ì •ë³´</label>
                        </div>
                    </div>

                    <div class="section-title">ê·œì œ ê³¼í•™ ë™í–¥</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ“ˆ ê·œì œ í™˜ê²½ ë³€í™” ì¶”ì </div>
                        <div style="background: white; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                            <h5>ì£¼ìš” ë³€í™” ë™í–¥ (2023-2025)</h5>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem;">
                                <div style="background: #f0f9ff; padding: 1rem; border-radius: 6px; border-left: 4px solid #3b82f6;">
                                    <h6 style="color: #1e40af; margin-bottom: 0.5rem;">ì‹¤ì‹œê°„ ë¶„ì„ í—ˆìš©</h6>
                                    <p style="font-size: 0.9rem;">PAT ê¸°ë°˜ Real-Time Release Testing í™•ëŒ€</p>
                                </div>
                                <div style="background: #f0fdf4; padding: 1rem; border-radius: 6px; border-left: 4px solid #10b981;">
                                    <h6 style="color: #059669; margin-bottom: 0.5rem;">ì—°ì†ê³µì • ê°€ì´ë“œë¼ì¸</h6>
                                    <p style="font-size: 0.9rem;">ICH Q13 ì—°ì†ì œì¡° ê°€ì´ë“œë¼ì¸ ì œì •</p>
                                </div>
                                <div style="background: #fffbeb; padding: 1rem; border-radius: 6px; border-left: 4px solid #f59e0b;">
                                    <h6 style="color: #d97706; margin-bottom: 0.5rem;">AI/ML í™œìš© ê°€ì†í™”</h6>
                                    <p style="font-size: 0.9rem;">ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ ê³µì • ìµœì í™” í—ˆìš©</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <strong>ğŸ’¡ ê·œì œ ì „ëµ íŒ:</strong><br>
                        â€¢ ì¡°ê¸° ê·œì œ ê¸°ê´€ ìƒë‹´ í™œìš© (Pre-IND meeting)<br>
                        â€¢ ì—¬ëŸ¬ ê·œì œ ê¸°ê´€ ë™ì‹œ ìƒë‹´ ê³ ë ¤<br>
                        â€¢ íŠ¹ë³„ ì§€ì • í”„ë¡œê·¸ë¨ ì ê·¹ í™œìš©<br>
                        â€¢ êµ­ì œ ì¡°í™” ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜<br>
                        â€¢ ì§€ì†ì ì¸ ê·œì œ ë™í–¥ ëª¨ë‹ˆí„°ë§
                    </div>
                </div>

                <!-- Chapter: Appendix -->
                <div class="chapter" id="chapter-appendix">
                    <h1 class="chapter-title">ë¶€ë¡</h1>
                    <p class="chapter-subtitle">ì¶”ê°€ ì°¸ê³  ìë£Œ ë° ì‹¤ë¬´ ë„êµ¬</p>
                    
                    <div class="section-title">ğŸ“– ìš©ì–´ì§‘</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ” ìš©ì–´ ê²€ìƒ‰ ë„êµ¬</div>
                        <div class="calculator">
                            <label>ê²€ìƒ‰ì–´:</label>
                            <input type="text" class="calc-input" id="termSearch" placeholder="ìš©ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" oninput="searchTerms()">
                            
                            <div id="termResults" style="max-height: 300px; overflow-y: auto; margin-top: 1rem; display: none;">
                                <!-- Search results will appear here -->
                            </div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="glossaryTable">
                            <thead>
                                <tr>
                                    <th>ìš©ì–´</th>
                                    <th>ì˜ë¬¸</th>
                                    <th>ì •ì˜</th>
                                    <th>ê´€ë ¨ ë¶„ì•¼</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ì•„ë°ë…¸ë¶€ì†ë°”ì´ëŸ¬ìŠ¤</td>
                                    <td>Adeno-Associated Virus</td>
                                    <td>ë¹„ë³‘ì›ì„± DNA ë°”ì´ëŸ¬ìŠ¤, ìœ ì „ì ì¹˜ë£Œ ë²¡í„°ë¡œ í™œìš©</td>
                                    <td>ê¸°ë³¸ ê°œë…</td>
                                </tr>
                                <tr>
                                    <td>í˜ˆì²­í˜•</td>
                                    <td>Serotype</td>
                                    <td>ìº¡ì‹œë“œ ë‹¨ë°±ì§ˆ êµ¬ì¡°ì— ë”°ë¥¸ AAV ë¶„ë¥˜</td>
                                    <td>ë²¡í„° ì„¤ê³„</td>
                                </tr>
                                <tr>
                                    <td>ì „ì—¼ê°ë„</td>
                                    <td>Transfection</td>
                                    <td>ì„¸í¬ì— ì™¸ë¶€ DNAë¥¼ ë„ì…í•˜ëŠ” ê³¼ì •</td>
                                    <td>ìƒë¥˜ê³µì •</td>
                                </tr>
                                <tr>
                                    <td>í¬ë¡œë§ˆí† ê·¸ë˜í”¼</td>
                                    <td>Chromatography</td>
                                    <td>ì„±ë¶„ ë¶„ë¦¬ë¥¼ ìœ„í•œ ì •ì œ ê¸°ìˆ </td>
                                    <td>í•˜ë¥˜ê³µì •</td>
                                </tr>
                                <tr>
                                    <td>ë¹ˆ ìº¡ì‹œë“œ</td>
                                    <td>Empty Capsid</td>
                                    <td>ìœ ì „ìê°€ í¬ì¥ë˜ì§€ ì•Šì€ ë°”ì´ëŸ¬ìŠ¤ ì™¸ê°</td>
                                    <td>í’ˆì§ˆê´€ë¦¬</td>
                                </tr>
                                <tr>
                                    <td>ìˆ™ì£¼ì„¸í¬ë‹¨ë°±ì§ˆ</td>
                                    <td>Host Cell Protein</td>
                                    <td>ìƒì‚° ì„¸í¬ì—ì„œ ìœ ë˜ëœ ë¶ˆìˆœë¬¼ ë‹¨ë°±ì§ˆ</td>
                                    <td>í’ˆì§ˆê´€ë¦¬</td>
                                </tr>
                                <tr>
                                    <td>ê³µì •ë¶„ì„ê¸°ìˆ </td>
                                    <td>Process Analytical Technology</td>
                                    <td>ì‹¤ì‹œê°„ ê³µì • ëª¨ë‹ˆí„°ë§ ë° ì œì–´ ê¸°ìˆ </td>
                                    <td>ìë™í™”</td>
                                </tr>
                                <tr>
                                    <td>ì—°ì†ê³µì •</td>
                                    <td>Continuous Manufacturing</td>
                                    <td>ë°°ì¹˜ ê³µì • ëŒ€ì‹  ì—°ì†ì ìœ¼ë¡œ ì§„í–‰í•˜ëŠ” ì œì¡°</td>
                                    <td>ë¯¸ë˜ ê¸°ìˆ </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">ğŸ“Š ë‹¨ìœ„ ë³€í™˜ ë„êµ¬</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ”„ AAV ë†ë„ ë‹¨ìœ„ ë³€í™˜ê¸°</div>
                        <div class="calculator">
                            <label>ì…ë ¥ê°’:</label>
                            <input type="number" class="calc-input" id="inputValue" placeholder="ìˆ«ì ì…ë ¥" step="any">
                            
                            <label>ì…ë ¥ ë‹¨ìœ„:</label>
                            <select class="calc-input" id="inputUnit">
                                <option value="gc_ml">GC/mL</option>
                                <option value="vp_ml">VP/mL</option>
                                <option value="iu_ml">IU/mL</option>
                                <option value="log_gc">log GC/mL</option>
                                <option value="particles_ml">particles/mL</option>
                            </select>
                            
                            <label>ì¶œë ¥ ë‹¨ìœ„:</label>
                            <select class="calc-input" id="outputUnit">
                                <option value="gc_ml">GC/mL</option>
                                <option value="vp_ml">VP/mL</option>
                                <option value="iu_ml">IU/mL</option>
                                <option value="log_gc">log GC/mL</option>
                                <option value="particles_ml">particles/mL</option>
                            </select>
                            
                            <button class="btn btn-primary" onclick="convertUnits()">ë‹¨ìœ„ ë³€í™˜</button>
                            
                            <div class="calc-result" id="conversionResult" style="display: none;"></div>
                        </div>
                    </div>

                    <div class="section-title">ğŸ“‹ í…œí”Œë¦¿ ë¼ì´ë¸ŒëŸ¬ë¦¬</div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 2rem 0;">
                        <div class="interactive-box" style="margin: 0;">
                            <div class="interactive-title">ğŸ“ SOP í…œí”Œë¦¿</div>
                            <p style="margin: 1rem 0;">í‘œì¤€ì‘ì—…ì ˆì°¨ì„œ ì‘ì„±ì„ ìœ„í•œ í…œí”Œë¦¿</p>
                            <button class="btn btn-primary" onclick="downloadTemplate('sop')">ë‹¤ìš´ë¡œë“œ</button>
                        </div>
                        
                        <div class="interactive-box" style="margin: 0;">
                            <div class="interactive-title">ğŸ”¬ ë¶„ì„ ë³´ê³ ì„œ</div>
                            <p style="margin: 1rem 0;">QC ì‹œí—˜ ê²°ê³¼ ë³´ê³ ì„œ í…œí”Œë¦¿</p>
                            <button class="btn btn-primary" onclick="downloadTemplate('qc')">ë‹¤ìš´ë¡œë“œ</button>
                        </div>
                        
                        <div class="interactive-box" style="margin: 0;">
                            <div class="interactive-title">âš ï¸ í¸ì°¨ ë³´ê³ ì„œ</div>
                            <p style="margin: 1rem 0;">ê³µì • í¸ì°¨ ë°œìƒ ì‹œ ë³´ê³ ì„œ ì–‘ì‹</p>
                            <button class="btn btn-primary" onclick="downloadTemplate('deviation')">ë‹¤ìš´ë¡œë“œ</button>
                        </div>
                        
                        <div class="interactive-box" style="margin: 0;">
                            <div class="interactive-title">ğŸ“Š ë°°ì¹˜ ê¸°ë¡</div>
                            <p style="margin: 1rem 0;">GMP ë°°ì¹˜ ì œì¡° ê¸°ë¡ ì–‘ì‹</p>
                            <button class="btn btn-primary" onclick="downloadTemplate('batch')">ë‹¤ìš´ë¡œë“œ</button>
                        </div>
                    </div>

                    <div class="section-title">ğŸ”— ìœ ìš©í•œ ë§í¬</div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ì¹´í…Œê³ ë¦¬</th>
                                    <th>ë¦¬ì†ŒìŠ¤</th>
                                    <th>ì„¤ëª…</th>
                                    <th>ë§í¬</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ê·œì œ (ë¯¸êµ­)</td>
                                    <td>FDA ì„¸í¬Â·ìœ ì „ìì¹˜ë£Œ ê°€ì´ë˜ìŠ¤</td>
                                    <td>ë¯¸êµ­ FDAì˜ ê³µì‹ CGT ê°€ì´ë“œë¼ì¸ ëª¨ìŒ</td>
                                    <td><a href="https://www.fda.gov/vaccines-blood-biologics/biologics-guidances/cellular-gene-therapy-guidances" target="_blank" style="color: var(--primary-color);">FDA CGT Guidances</a></td>
                                </tr>
                                <tr>
                                    <td>ê·œì œ (ë¯¸êµ­)</td>
                                    <td>FDA CMC ê°€ì´ë˜ìŠ¤ (IND)</td>
                                    <td>ìœ ì „ìì¹˜ë£Œ INDë¥¼ ìœ„í•œ CMC ì •ë³´ ê°€ì´ë˜ìŠ¤</td>
                                    <td><a href="https://www.fda.gov/regulatory-information/search-fda-guidance-documents/chemistry-manufacturing-and-control-cmc-information-human-gene-therapy-investigational-new-drug" target="_blank" style="color: var(--primary-color);">FDA CMC Guidance</a></td>
                                </tr>
                                <tr>
                                    <td>ê·œì œ (ìœ ëŸ½)</td>
                                    <td>EMA ATMP ê°œìš”</td>
                                    <td>ìœ ëŸ½ ì²¨ë‹¨ì¹˜ë£Œì˜ì•½í’ˆ ê·œì œ ê°œìš”</td>
                                    <td><a href="https://www.ema.europa.eu/en/human-regulatory-overview/advanced-therapy-medicinal-products-overview" target="_blank" style="color: var(--primary-color);">EMA ATMP Overview</a></td>
                                </tr>
                                <tr>
                                    <td>ê·œì œ (ìœ ëŸ½)</td>
                                    <td>EMA ATMP ê°€ì´ë“œë¼ì¸</td>
                                    <td>ATMP ê´€ë ¨ ìƒì„¸ ê°€ì´ë“œë¼ì¸ ëª¨ìŒ</td>
                                    <td><a href="https://www.ema.europa.eu/en/human-regulatory-overview/advanced-therapy-medicinal-products-overview/guidelines-relevant-advanced-therapy-medicinal-products" target="_blank" style="color: var(--primary-color);">EMA ATMP Guidelines</a></td>
                                </tr>
                                <tr>
                                    <td>í•™ìˆ  ê¸°ê´€</td>
                                    <td>ISCT (êµ­ì œì„¸í¬ìœ ì „ìì¹˜ë£Œí•™íšŒ)</td>
                                    <td>ì„¸ê³„ ìµœëŒ€ CGT ì „ë¬¸ í•™ìˆ ë‹¨ì²´</td>
                                    <td><a href="https://www.isctglobal.org/home" target="_blank" style="color: var(--primary-color);">ISCT Global</a></td>
                                </tr>
                                <tr>
                                    <td>í•™ìˆ  ê¸°ê´€</td>
                                    <td>ASGCT (ë¯¸êµ­ìœ ì „ìì„¸í¬ì¹˜ë£Œí•™íšŒ)</td>
                                    <td>ë¯¸êµ­ ìµœëŒ€ ìœ ì „ìì¹˜ë£Œ í•™ìˆ ë‹¨ì²´</td>
                                    <td><a href="https://www.asgct.org/" target="_blank" style="color: var(--primary-color);">ASGCT</a></td>
                                </tr>
                                <tr>
                                    <td>í•™ìˆ  ì €ë„</td>
                                    <td>Gene Therapy (Nature)</td>
                                    <td>ìœ ì „ìì¹˜ë£Œ ë¶„ì•¼ ìµœê³  ê¶Œìœ„ ì €ë„</td>
                                    <td><a href="https://www.nature.com/gt/" target="_blank" style="color: var(--primary-color);">Nature Gene Therapy</a></td>
                                </tr>
                                <tr>
                                    <td>í•™ìˆ  ì €ë„</td>
                                    <td>Cytotherapy (ISCT ê³µì‹ì €ë„)</td>
                                    <td>ISCT ê³µì‹ ì €ë„, ì„¸í¬ì¹˜ë£Œ ì „ë¬¸</td>
                                    <td><a href="https://www.isct-cytotherapy.org/" target="_blank" style="color: var(--primary-color);">Cytotherapy Journal</a></td>
                                </tr>
                                <tr>
                                    <td>í•™ìˆ  ì €ë„</td>
                                    <td>Nature Biotechnology</td>
                                    <td>ë°”ì´ì˜¤ê¸°ìˆ  ë° ì œì¡° ê¸°ìˆ  ìµœì‹  ì—°êµ¬</td>
                                    <td><a href="https://www.nature.com/nbt/" target="_blank" style="color: var(--primary-color);">Nature Biotechnology</a></td>
                                </tr>
                                <tr>
                                    <td>í•™ìˆ  ì €ë„</td>
                                    <td>Molecular Therapy</td>
                                    <td>ìœ ì „ìì¹˜ë£Œ ë¶„ì•¼ í•µì‹¬ ì €ë„</td>
                                    <td><a href="https://www.cell.com/molecular-therapy" target="_blank" style="color: var(--primary-color);">Molecular Therapy</a></td>
                                </tr>
                                <tr>
                                    <td>ì‚°ì—… ì •ë³´</td>
                                    <td>BioPharma Dive</td>
                                    <td>ë°”ì´ì˜¤ì˜ì•½í’ˆ ì‚°ì—… ë‰´ìŠ¤ ë° ë¶„ì„</td>
                                    <td><a href="https://www.biopharmadive.com/" target="_blank" style="color: var(--primary-color);">BioPharma Dive</a></td>
                                </tr>
                                <tr>
                                    <td>ì‚°ì—… ì •ë³´</td>
                                    <td>BioWorld</td>
                                    <td>ë°”ì´ì˜¤í… ì‚°ì—… ì •ë³´ ë° ë°ì´í„°</td>
                                    <td><a href="https://www.bioworld.com/" target="_blank" style="color: var(--primary-color);">BioWorld</a></td>
                                </tr>
                                <tr>
                                    <td>êµìœ¡</td>
                                    <td>FDA Training Center</td>
                                    <td>FDA ê³µì‹ êµìœ¡ í”„ë¡œê·¸ë¨</td>
                                    <td><a href="https://www.fda.gov/training" target="_blank" style="color: var(--primary-color);">FDA Training</a></td>
                                </tr>
                                <tr>
                                    <td>êµìœ¡</td>
                                    <td>EMA Learning Network</td>
                                    <td>EMA ì˜¨ë¼ì¸ êµìœ¡ í”Œë«í¼</td>
                                    <td><a href="https://www.ema.europa.eu/en/about-us/ema-academy" target="_blank" style="color: var(--primary-color);">EMA Academy</a></td>
                                </tr>
                                <tr>
                                    <td>ë°ì´í„°ë² ì´ìŠ¤</td>
                                    <td>ClinicalTrials.gov</td>
                                    <td>ì „ ì„¸ê³„ ì„ìƒì‹œí—˜ ë°ì´í„°ë² ì´ìŠ¤</td>
                                    <td><a href="https://clinicaltrials.gov/" target="_blank" style="color: var(--primary-color);">ClinicalTrials.gov</a></td>
                                </tr>
                                <tr>
                                    <td>ë°ì´í„°ë² ì´ìŠ¤</td>
                                    <td>Gene Therapy Clinical Trials</td>
                                    <td>ìœ ì „ìì¹˜ë£Œ ì„ìƒì‹œí—˜ ì „ë¬¸ DB</td>
                                    <td><a href="https://www.abedia.com/wiley/" target="_blank" style="color: var(--primary-color);">GT Clinical Trials</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">ğŸ“š ì¶”ì²œ ë„ì„œ ë° í•µì‹¬ ë…¼ë¬¸</div>
                    
                    <div class="checklist">
                        <h4>í•„ë… ìë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
                        <div class="checklist-item">
                            <input type="checkbox" id="read1">
                            <label for="read1">"Manufacturing of recombinant AAV viral vectors for clinical trials" (PMC, 2016)</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="read2">
                            <label for="read2">"Scalable Production of AAV Vectors in Orbitally Shaken HEK293 Cells" (Mol Ther, 2019)</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="read3">
                            <label for="read3">FDA Guidance: CMC Information for Human Gene Therapy INDs (2020)</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="read4">
                            <label for="read4">"Downstream processing of AAV based gene therapy vectors" (ScienceDirect, 2025)</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="read5">
                            <label for="read5">"High-efficiency purification of divergent AAV serotypes using AAVX" (PMC, 2023)</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="read6">
                            <label for="read6">ICH Q11: Development and Manufacture of Drug Substances (ICH, 2012)</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="read7">
                            <label for="read7">"Platform Chromatography Purification Process for AAV" (Biotechnology Journal, 2025)</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="read8">
                            <label for="read8">EMA Guideline: Quality, non-clinical and clinical requirements for ATMPs (2025)</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="read9">
                            <label for="read9">"AAV manufacturing for clinical use: Insights from upstream process" (ScienceDirect, 2021)</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="read10">
                            <label for="read10">"Moving from the bench towards large scale AAV purification" (Biotech Bioeng, 2020)</label>
                        </div>
                    </div>

                    <div class="section-title">ğŸ”— ì—…ê³„ í‘œì¤€ ë„êµ¬ ë° ë¦¬ì†ŒìŠ¤</div>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ë„êµ¬ ìœ í˜•</th>
                                    <th>ì´ë¦„</th>
                                    <th>ì œê³µì—…ì²´</th>
                                    <th>ìš©ë„</th>
                                    <th>ì ‘ê·¼ ë°©ë²•</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ê³„ì‚° ë„êµ¬</td>
                                    <td>AAV Titer Calculator</td>
                                    <td>Thermo Fisher</td>
                                    <td>qPCR ê²°ê³¼ ê¸°ë°˜ ì—­ê°€ ê³„ì‚°</td>
                                    <td>ì˜¨ë¼ì¸ ë¬´ë£Œ ë„êµ¬</td>
                                </tr>
                                <tr>
                                    <td>ê³„ì‚° ë„êµ¬</td>
                                    <td>Chromatography Sizing Tool</td>
                                    <td>Cytiva</td>
                                    <td>ì»¬ëŸ¼ í¬ê¸° ë° ì¡°ê±´ ìµœì í™”</td>
                                    <td>ê¸°ìˆ  ì§€ì›íŒ€ ë¬¸ì˜</td>
                                </tr>
                                <tr>
                                    <td>ë¶„ì„ ì†Œí”„íŠ¸ì›¨ì–´</td>
                                    <td>FlowJo</td>
                                    <td>BD Biosciences</td>
                                    <td>Flow cytometry ë°ì´í„° ë¶„ì„</td>
                                    <td>ë¼ì´ì„¼ìŠ¤ êµ¬ë§¤</td>
                                </tr>
                                <tr>
                                    <td>ë¶„ì„ ì†Œí”„íŠ¸ì›¨ì–´</td>
                                    <td>SEDFIT</td>
                                    <td>NIH</td>
                                    <td>AUC ë°ì´í„° ë¶„ì„</td>
                                    <td>ë¬´ë£Œ ë‹¤ìš´ë¡œë“œ</td>
                                </tr>
                                <tr>
                                    <td>ë°ì´í„°ë² ì´ìŠ¤</td>
                                    <td>Vector Database</td>
                                    <td>AddGene</td>
                                    <td>AAV ë²¡í„° ì„œì—´ ì •ë³´</td>
                                    <td>ì˜¨ë¼ì¸ ê²€ìƒ‰</td>
                                </tr>
                                <tr>
                                    <td>ì„¤ê³„ ë„êµ¬</td>
                                    <td>SnapGene</td>
                                    <td>Dotmatics</td>
                                    <td>ë²¡í„° ì„¤ê³„ ë° ì‹œë®¬ë ˆì´ì…˜</td>
                                    <td>ì†Œí”„íŠ¸ì›¨ì–´ êµ¬ë§¤</td>
                                </tr>
                                <tr>
                                    <td>í†µê³„ ë„êµ¬</td>
                                    <td>Minitab</td>
                                    <td>Minitab Inc.</td>
                                    <td>ê³µì • ëŠ¥ë ¥ ë° DoE ë¶„ì„</td>
                                    <td>ë¼ì´ì„¼ìŠ¤ êµ¬ë§¤</td>
                                </tr>
                                <tr>
                                    <td>ê·œì œ ë„êµ¬</td>
                                    <td>eCTD Viewer</td>
                                    <td>ICH</td>
                                    <td>ì „ì ì œì¶œ ë¬¸ì„œ ì‘ì„±</td>
                                    <td>ICH ì›¹ì‚¬ì´íŠ¸</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="section-title">ğŸ¢ ì£¼ìš” ì œì¡°ì—…ì²´ ë° ì„œë¹„ìŠ¤ ì œê³µì—…ì²´</div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
                        <div class="interactive-box" style="margin: 0;">
                            <div class="interactive-title">ğŸ­ CDMO ì„œë¹„ìŠ¤</div>
                            <ul style="margin: 1rem 0; list-style: none; padding: 0;">
                                <li>â€¢ <strong>Novartis (AveXis)</strong> - ëŒ€ê·œëª¨ AAV ìƒì‚°</li>
                                <li>â€¢ <strong>Catalent</strong> - í†µí•© AAV ì œì¡°</li>
                                <li>â€¢ <strong>WuXi Advanced Therapies</strong> - ê¸€ë¡œë²Œ CDMO</li>
                                <li>â€¢ <strong>Charles River</strong> - ì—°êµ¬ë¶€í„° ìƒì—…í™”ê¹Œì§€</li>
                                <li>â€¢ <strong>Viralgen</strong> - AAV ì „ë¬¸ CDMO</li>
                            </ul>
                        </div>
                        
                        <div class="interactive-box" style="margin: 0;">
                            <div class="interactive-title">ğŸ§ª í•µì‹¬ ì†Œì¬ ê³µê¸‰ì—…ì²´</div>
                            <ul style="margin: 1rem 0; list-style: none; padding: 0;">
                                <li>â€¢ <strong>Thermo Fisher (AAVX resin)</strong> - ì •ì œ ìˆ˜ì§€</li>
                                <li>â€¢ <strong>Cytiva</strong> - í¬ë¡œë§ˆí† ê·¸ë˜í”¼ ì‹œìŠ¤í…œ</li>
                                <li>â€¢ <strong>Polyplus</strong> - Transfection ì‹œì•½</li>
                                <li>â€¢ <strong>Merck (MilliporeSigma)</strong> - í•„í„° ë° TFF</li>
                                <li>â€¢ <strong>Sartorius</strong> - ë°”ì´ì˜¤ë¦¬ì•¡í„°</li>
                            </ul>
                        </div>
                        
                        <div class="interactive-box" style="margin: 0;">
                            <div class="interactive-title">ğŸ”¬ ë¶„ì„ ì¥ë¹„ ì œê³µì—…ì²´</div>
                            <ul style="margin: 1rem 0; list-style: none; padding: 0;">
                                <li>â€¢ <strong>Beckman Coulter</strong> - AUC, ì›ì‹¬ë¶„ë¦¬</li>
                                <li>â€¢ <strong>Applied Biosystems</strong> - qPCR ì‹œìŠ¤í…œ</li>
                                <li>â€¢ <strong>Agilent</strong> - HPLC, ë¶„ì„ ì¥ë¹„</li>
                                <li>â€¢ <strong>Waters</strong> - í¬ë¡œë§ˆí† ê·¸ë˜í”¼</li>
                                <li>â€¢ <strong>Bio-Rad</strong> - ì „ê¸°ì˜ë™, PCR</li>
                            </ul>
                        </div>
                        
                        <div class="interactive-box" style="margin: 0;">
                            <div class="interactive-title">ğŸ’» ì†Œí”„íŠ¸ì›¨ì–´ ì†”ë£¨ì…˜</div>
                            <ul style="margin: 1rem 0; list-style: none; padding: 0;">
                                <li>â€¢ <strong>Veeva</strong> - ì „ì QMS</li>
                                <li>â€¢ <strong>MasterControl</strong> - ë¬¸ì„œ ê´€ë¦¬</li>
                                <li>â€¢ <strong>Emerson DeltaV</strong> - ê³µì • ì œì–´</li>
                                <li>â€¢ <strong>OSIsoft PI</strong> - ë°ì´í„° íˆìŠ¤í† ë¦¬ì•ˆ</li>
                                <li>â€¢ <strong>Wonderware MES</strong> - ì œì¡° ì‹¤í–‰</li>
                            </ul>
                        </div>
                    </div>

                    <div class="section-title">ğŸ“§ ì „ë¬¸ê°€ ë„¤íŠ¸ì›Œí¬ ë° ì»¤ë®¤ë‹ˆí‹°</div>
                    
                    <div class="highlight-box">
                        <strong>ğŸ’¡ ì—…ê³„ ë„¤íŠ¸ì›Œí‚¹ íŒ:</strong><br>
                        â€¢ <strong>LinkedIn ê·¸ë£¹</strong>: "Gene Therapy Professionals", "AAV Manufacturing"<br>
                        â€¢ <strong>í•™íšŒ ì°¸ê°€</strong>: ISCT, ASGCT ì—°ë¡€ í•™ìˆ ëŒ€íšŒ í•„ìˆ˜ ì°¸ì„<br>
                        â€¢ <strong>ì˜¨ë¼ì¸ í¬ëŸ¼</strong>: ResearchGate, BioSpace ì»¤ë®¤ë‹ˆí‹° í™œìš©<br>
                        â€¢ <strong>ì›¨ë¹„ë‚˜</strong>: ì£¼ìš” ì—…ì²´ë“¤ì˜ ê¸°ìˆ  ì›¨ë¹„ë‚˜ ì •ê¸° ì°¸ì„<br>
                        â€¢ <strong>ì „ë¬¸ êµìœ¡</strong>: FDA, EMA ì£¼ê´€ ì›Œí¬ìƒµ ë° íŠ¸ë ˆì´ë‹ ê³¼ì •
                    </div>

                    <div class="warning-box">
                        <strong>âš ï¸ ë§í¬ ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­:</strong><br>
                        â€¢ ëª¨ë“  ì™¸ë¶€ ë§í¬ëŠ” 2025ë…„ 8ì›” ê¸°ì¤€ìœ¼ë¡œ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤<br>
                        â€¢ ì¼ë¶€ ë¦¬ì†ŒìŠ¤ëŠ” ë¡œê·¸ì¸ì´ë‚˜ êµ¬ë…ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>
                        â€¢ ê·œì œ ê°€ì´ë˜ìŠ¤ëŠ” ì •ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ë¯€ë¡œ ìµœì‹  ë²„ì „ í™•ì¸ í•„ìš”<br>
                        â€¢ ìƒì—…ì  ë„êµ¬ ì‚¬ìš© ì‹œ ë¼ì´ì„¼ìŠ¤ ë° ë¹„ìš© í™•ì¸ ê¶Œì¥<br>
                        â€¢ í•™ìˆ  ìë£Œ ì´ìš© ì‹œ ì €ì‘ê¶Œ ë° ì¸ìš© ê·œì • ì¤€ìˆ˜ í•„ìˆ˜
                    </div>

                    <div class="section-title">ğŸ”„ êµì¬ ì—…ë°ì´íŠ¸ ì •ë³´</div>
                    
                    <div class="interactive-box">
                        <div class="interactive-title">ğŸ“… ë²„ì „ ì´ë ¥</div>
                        <div style="background: white; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                            <h6 style="color: var(--primary-color); margin-bottom: 1rem;">Version 1.0 (2025ë…„ 8ì›”)</h6>
                            <ul style="margin: 0; padding-left: 1.5rem;">
                                <li><strong>ì´ˆíŒ ì¶œê°„</strong> - ì „ì²´ 13ê°œ ì±•í„° ì™„ì„±</li>
                                <li><strong>ì™¸ë¶€ ë§í¬ ê²€ì¦</strong> - ì´ 16ê°œ ì£¼ìš” ê¸°ê´€ ë§í¬ í™•ì¸</li>
                                <li><strong>ê³„ì‚° ë„êµ¬</strong> - 20+ ì¸í„°ë™í‹°ë¸Œ ê³„ì‚°ê¸° êµ¬í˜„</li>
                                <li><strong>ì‚¬ë¡€ ì—°êµ¬</strong> - 5ê°œ ì£¼ìš” AAV ì œí’ˆ ë¶„ì„ í¬í•¨</li>
                                <li><strong>ì‹¤ë¬´ í…œí”Œë¦¿</strong> - SOP, ë³´ê³ ì„œ ì–‘ì‹ 4ì¢… ì œê³µ</li>
                            </ul>
                            
                            <h6 style="color: var(--primary-color); margin: 1.5rem 0 1rem 0;">ì˜ˆì •ëœ ì—…ë°ì´íŠ¸</h6>
                            <ul style="margin: 0; padding-left: 1.5rem;">
                                <li><strong>Version 1.1 (2025ë…„ 12ì›”)</strong> - ìµœì‹  ê·œì œ ë™í–¥ ë°˜ì˜</li>
                                <li><strong>Version 1.2 (2026ë…„ ìƒë°˜ê¸°)</strong> - ìƒˆë¡œìš´ ê¸°ìˆ  ë™í–¥ ì¶”ê°€</li>
                                <li><strong>Version 2.0 (2026ë…„ í•˜ë°˜ê¸°)</strong> - ì—°ì†ê³µì • ê¸°ìˆ  ëŒ€í­ í™•ì¥</li>
                            </ul>
                        </div>
                    </div>

                    <div class="success-box">
                        <strong>âœ… ë§í¬ ê²€ì¦ ì™„ë£Œ ì‚¬í•­:</strong><br>
                        â€¢ <strong>FDA ê³µì‹ ì‚¬ì´íŠ¸</strong>: 4ê°œ ì£¼ìš” ê°€ì´ë˜ìŠ¤ ë§í¬ ê²€ì¦ (2025.08.14)<br>
                        â€¢ <strong>EMA ê³µì‹ ì‚¬ì´íŠ¸</strong>: 4ê°œ ATMP ê´€ë ¨ ë§í¬ ê²€ì¦ (2025.08.14)<br>
                        â€¢ <strong>í•™ìˆ  ê¸°ê´€</strong>: ISCT, ASGCT ê³µì‹ í™ˆí˜ì´ì§€ í™•ì¸<br>
                        â€¢ <strong>í•™ìˆ  ì €ë„</strong>: Nature, Cell Press ê³„ì—´ ì €ë„ ë§í¬ ê²€ì¦<br>
                        â€¢ <strong>ì‚°ì—… ì •ë³´</strong>: ì£¼ìš” ì—…ê³„ ë‰´ìŠ¤ ì‚¬ì´íŠ¸ 4ê°œ í™•ì¸<br>
                        â€¢ <strong>êµìœ¡ ë¦¬ì†ŒìŠ¤</strong>: FDA/EMA ê³µì‹ êµìœ¡ ì‚¬ì´íŠ¸ í¬í•¨
                    </div>

                    <div class="section-title">ğŸ“ ë¬¸ì˜ ë° í”¼ë“œë°±</div>
                    
                    <div style="background: linear-gradient(135deg, #f0f9ff, #e0f2fe); border-radius: 12px; padding: 2rem; margin: 2rem 0;">
                        <h5 style="color: var(--primary-color); margin-bottom: 1rem;">êµì¬ ê°œì„ ì„ ìœ„í•œ ì—¬ëŸ¬ë¶„ì˜ ì˜ê²¬ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤</h5>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                            <div>
                                <h6>ğŸ”— ë§í¬ ì˜¤ë¥˜ ì‹ ê³ </h6>
                                <p style="font-size: 0.9rem; margin: 0.5rem 0;">ì‘ë™í•˜ì§€ ì•ŠëŠ” ë§í¬ë‚˜ ì˜ëª»ëœ ì •ë³´ë¥¼ ë°œê²¬í•˜ì‹œë©´ ì¦‰ì‹œ ì‹ ê³ í•´ ì£¼ì„¸ìš”.</p>
                            </div>
                            <div>
                                <h6>ğŸ“ ë‚´ìš© ê°œì„  ì œì•ˆ</h6>
                                <p style="font-size: 0.9rem; margin: 0.5rem 0;">ì¶”ê°€ë˜ì—ˆìœ¼ë©´ í•˜ëŠ” ë‚´ìš©ì´ë‚˜ ìˆ˜ì •ì´ í•„ìš”í•œ ë¶€ë¶„ì„ ì•Œë ¤ì£¼ì„¸ìš”.</p>
                            </div>
                            <div>
                                <h6>ğŸ†• ìµœì‹  ì •ë³´ ì œë³´</h6>
                                <p style="font-size: 0.9rem; margin: 0.5rem 0;">ìƒˆë¡œìš´ ê·œì œ ë™í–¥ì´ë‚˜ ê¸°ìˆ  ë°œì „ ì‚¬í•­ì„ ê³µìœ í•´ ì£¼ì„¸ìš”.</p>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 1.5rem;">
                            <button class="btn btn-primary" onclick="provideFeedback()">í”¼ë“œë°± ì œê³µí•˜ê¸°</button>
                        </div>
                    </div>

                    <div class="section-title">ğŸ“œ ì €ì‘ê¶Œ ë° ë©´ì±… ì¡°í•­</div>
                    
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin: 2rem 0; font-size: 0.9rem; line-height: 1.5;">
                        <h6 style="margin-bottom: 1rem; color: var(--text-color);">ë©´ì±… ì¡°í•­</h6>
                        <p style="margin-bottom: 1rem;">ë³¸ êµì¬ëŠ” êµìœ¡ ëª©ì ìœ¼ë¡œ ì œì‘ë˜ì—ˆìœ¼ë©°, ì‹¤ì œ ì œì¡° ê³µì •ì´ë‚˜ ê·œì œ ì¤€ìˆ˜ì— ëŒ€í•œ ë²•ì  ì¡°ì–¸ì„ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëª¨ë“  ì™¸ë¶€ ë§í¬ëŠ” ì œ3ìê°€ ìš´ì˜í•˜ëŠ” ì‚¬ì´íŠ¸ë¡œ, í•´ë‹¹ ì‚¬ì´íŠ¸ì˜ ë‚´ìš©ì´ë‚˜ ê°€ìš©ì„±ì— ëŒ€í•´ ì±…ì„ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
                        
                        <p style="margin-bottom: 1rem;"><strong>ê·œì œ ì •ë³´:</strong> FDA, EMA ë“± ê·œì œ ê¸°ê´€ì˜ ê°€ì´ë˜ìŠ¤ëŠ” ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ë¯€ë¡œ, ì‹¤ì œ ì ìš© ì‹œ ìµœì‹  ë²„ì „ì„ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
                        
                        <p style="margin-bottom: 1rem;"><strong>ìƒì—…ì  ì •ë³´:</strong> ì–¸ê¸‰ëœ ì œí’ˆ, ì„œë¹„ìŠ¤, íšŒì‚¬ëª…ì€ ì •ë³´ ì œê³µ ëª©ì ì´ë©°, íŠ¹ì • ì œí’ˆì´ë‚˜ ì„œë¹„ìŠ¤ë¥¼ ì¶”ì²œí•˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.</p>
                        
                        <p style="margin: 0;"><strong>ìµœì¢… ì—…ë°ì´íŠ¸:</strong> 2025ë…„ 8ì›” 14ì¼ | <strong>ë‹¤ìŒ ê²€í†  ì˜ˆì •ì¼:</strong> 2025ë…„ 12ì›”</p>
                    </div>
                </div>

                <!-- Chapter Navigation -->
                <div class="chapter-nav">
                    <button class="nav-btn" id="prevBtn" onclick="previousChapter()">â† ì´ì „ ì¥</button>
                    <span id="chapterInfo">1 / 10</span>
                    <button class="nav-btn" id="nextBtn" onclick="nextChapter()">ë‹¤ìŒ ì¥ â†’</button>
                </div>
            </div>
        </main>
    </div>

    <script>
        // State management
        let currentChapter = 0;
        let chapters = ['intro', 'design', 'overview', 'upstream', 'downstream', 'quality', 'gmp', 'automation', 'future', 'casestudy', 'regulatory', 'tools', 'appendix'];
        let readChapters = new Set(['intro']);
        let bookmarks = new Set();
        let notes = {};
        let isDarkMode = false;

        // Glossary data
        const glossaryData = [
            {term: "ì•„ë°ë…¸ë¶€ì†ë°”ì´ëŸ¬ìŠ¤", english: "Adeno-Associated Virus", definition: "ë¹„ë³‘ì›ì„± DNA ë°”ì´ëŸ¬ìŠ¤, ìœ ì „ì ì¹˜ë£Œ ë²¡í„°ë¡œ í™œìš©", category: "ê¸°ë³¸ ê°œë…"},
            {term: "í˜ˆì²­í˜•", english: "Serotype", definition: "ìº¡ì‹œë“œ ë‹¨ë°±ì§ˆ êµ¬ì¡°ì— ë”°ë¥¸ AAV ë¶„ë¥˜", category: "ë²¡í„° ì„¤ê³„"},
            {term: "ì „ì—¼ê°ë„", english: "Transfection", definition: "ì„¸í¬ì— ì™¸ë¶€ DNAë¥¼ ë„ì…í•˜ëŠ” ê³¼ì •", category: "ìƒë¥˜ê³µì •"},
            {term: "í¬ë¡œë§ˆí† ê·¸ë˜í”¼", english: "Chromatography", definition: "ì„±ë¶„ ë¶„ë¦¬ë¥¼ ìœ„í•œ ì •ì œ ê¸°ìˆ ", category: "í•˜ë¥˜ê³µì •"},
            {term: "ë¹ˆ ìº¡ì‹œë“œ", english: "Empty Capsid", definition: "ìœ ì „ìê°€ í¬ì¥ë˜ì§€ ì•Šì€ ë°”ì´ëŸ¬ìŠ¤ ì™¸ê°", category: "í’ˆì§ˆê´€ë¦¬"},
            {term: "ìˆ™ì£¼ì„¸í¬ë‹¨ë°±ì§ˆ", english: "Host Cell Protein", definition: "ìƒì‚° ì„¸í¬ì—ì„œ ìœ ë˜ëœ ë¶ˆìˆœë¬¼ ë‹¨ë°±ì§ˆ", category: "í’ˆì§ˆê´€ë¦¬"},
            {term: "ê³µì •ë¶„ì„ê¸°ìˆ ", english: "Process Analytical Technology", definition: "ì‹¤ì‹œê°„ ê³µì • ëª¨ë‹ˆí„°ë§ ë° ì œì–´ ê¸°ìˆ ", category: "ìë™í™”"},
            {term: "ì—°ì†ê³µì •", english: "Continuous Manufacturing", definition: "ë°°ì¹˜ ê³µì • ëŒ€ì‹  ì—°ì†ì ìœ¼ë¡œ ì§„í–‰í•˜ëŠ” ì œì¡°", category: "ë¯¸ë˜ ê¸°ìˆ "}
        ];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            updateChapterInfo();
            setupEventListeners();
        });

        function setupEventListeners() {
            // Navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const chapter = this.dataset.chapter;
                    showChapter(chapter);
                });
            });

            // Sidebar toggle
            document.getElementById('toggleSidebar').addEventListener('click', function() {
                const sidebar = document.getElementById('sidebar');
                const mainContent = document.getElementById('mainContent');
                sidebar.classList.toggle('collapsed');
                mainContent.classList.toggle('expanded');
            });

            // Theme toggle
            document.getElementById('toggleTheme').addEventListener('click', function() {
                isDarkMode = !isDarkMode;
                document.documentElement.setAttribute('data-theme', isDarkMode ? 'dark' : 'light');
                this.textContent = isDarkMode ? 'â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ' : 'ğŸŒ™ ë‹¤í¬ëª¨ë“œ';
            });

            // Search
            document.getElementById('searchInput').addEventListener('input', function() {
                const query = this.value.toLowerCase();
                // Simple search implementation
                if (query.length > 2) {
                    searchContent(query);
                }
            });

            // Bookmark
            document.getElementById('bookmarkBtn').addEventListener('click', function() {
                const currentChapterName = chapters[currentChapter];
                if (bookmarks.has(currentChapterName)) {
                    bookmarks.delete(currentChapterName);
                    this.textContent = 'ğŸ”– ë¶ë§ˆí¬';
                } else {
                    bookmarks.add(currentChapterName);
                    this.textContent = 'ğŸ“Œ ë¶ë§ˆí¬ë¨';
                }
            });

            // Notes
            document.getElementById('notesBtn').addEventListener('click', function() {
                const note = prompt('ì´ í˜ì´ì§€ì— ëŒ€í•œ ë…¸íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
                if (note) {
                    notes[chapters[currentChapter]] = note;
                    alert('ë…¸íŠ¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                }
            });

            // Quiz
            document.getElementById('quizBtn').addEventListener('click', function() {
                showQuiz();
            });

            // Summary
            document.getElementById('summaryBtn').addEventListener('click', function() {
                showSummary();
            });

            // Checklist
            document.querySelectorAll('.checklist-item input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const item = this.closest('.checklist-item');
                    if (this.checked) {
                        item.classList.add('completed');
                    } else {
                        item.classList.remove('completed');
                    }
                    updateProgress();
                });
            });
        }

        function showQuiz() {
            const quizQuestions = getQuizForCurrentChapter();
            
            let quizHTML = `
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 2000; display: flex; align-items: center; justify-content: center;" id="quizModal">
                    <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">ğŸ“‹ ${getChapterTitle()} í€´ì¦ˆ</h3>
                        <div id="quizContent">
            `;
            
            quizQuestions.forEach((q, index) => {
                quizHTML += `
                    <div style="margin-bottom: 2rem; padding: 1rem; border: 1px solid #e5e7eb; border-radius: 8px;">
                        <p style="font-weight: 600; margin-bottom: 1rem;">${index + 1}. ${q.question}</p>
                        ${q.options.map((option, i) => `
                            <label style="display: block; margin: 0.5rem 0; cursor: pointer;">
                                <input type="radio" name="q${index}" value="${i}" style="margin-right: 0.5rem;">
                                ${option}
                            </label>
                        `).join('')}
                    </div>
                `;
            });
            
            quizHTML += `
                        </div>
                        <div style="text-align: center; margin-top: 2rem;">
                            <button class="btn btn-primary" onclick="submitQuiz()">ë‹µì•ˆ ì œì¶œ</button>
                            <button class="btn" onclick="closeQuiz()" style="margin-left: 1rem;">ë‹«ê¸°</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', quizHTML);
        }

        function getQuizForCurrentChapter() {
            const chapterName = chapters[currentChapter];
            
            const quizData = {
                intro: [
                    {
                        question: "AAV ë²¡í„°ì˜ ì£¼ìš” ì¥ì ì´ ì•„ë‹Œ ê²ƒì€?",
                        options: ["ë¹„ë³‘ì›ì„±", "ë†’ì€ ë©´ì—­ì›ì„±", "ì¥ê¸°ê°„ ë°œí˜„", "ë¹„ë¶„ì—´ ì„¸í¬ ê°ì—¼"],
                        correct: 1
                    },
                    {
                        question: "í˜„ì¬ AAV ì œì¡°ì˜ ê°€ì¥ í° ë„ì „ê³¼ì œëŠ”?",
                        options: ["ì•ˆì „ì„±", "íš¨ëŠ¥", "ìƒì‚° ë¹„ìš©", "ë³´ê´€ ì¡°ê±´"],
                        correct: 2
                    }
                ],
                design: [
                    {
                        question: "AAV ë²¡í„° ì¹´ì„¸íŠ¸ì˜ ìµœëŒ€ í¬ê¸°ëŠ”?",
                        options: ["3.5 kb", "4.7 kb", "5.5 kb", "6.0 kb"],
                        correct: 1
                    },
                    {
                        question: "BBB íˆ¬ê³¼ì„±ì´ ê°€ì¥ ìš°ìˆ˜í•œ í˜ˆì²­í˜•ì€?",
                        options: ["AAV2", "AAV8", "AAV9", "AAVrh10"],
                        correct: 2
                    }
                ],
                upstream: [
                    {
                        question: "Triple transfectionì—ì„œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í”Œë¼ìŠ¤ë¯¸ë“œëŠ”?",
                        options: ["Vector plasmid", "Rep/Cap plasmid", "Helper plasmid", "Control plasmid"],
                        correct: 3
                    },
                    {
                        question: "Transfection í›„ ê¶Œì¥ë˜ëŠ” ì˜¨ë„ shiftëŠ”?",
                        options: ["37Â°C â†’ 30Â°C", "37Â°C â†’ 32-34Â°C", "37Â°C â†’ 25Â°C", "ì˜¨ë„ ë³€ê²½ ì—†ìŒ"],
                        correct: 1
                    }
                ],
                downstream: [
                    {
                        question: "í˜„ì¬ ì—…ê³„ í‘œì¤€ AAV affinity resinì€?",
                        options: ["Heparin", "AAVX", "Protein A", "Blue Sepharose"],
                        correct: 1
                    },
                    {
                        question: "Empty capsidì™€ Full capsid ë¶„ë¦¬ì— ê°€ì¥ íš¨ê³¼ì ì¸ ë°©ë²•ì€?",
                        options: ["SEC", "Affinity", "AEX", "HIC"],
                        correct: 2
                    }
                ],
                quality: [
                    {
                        question: "AAV ì—­ê°€ ì¸¡ì •ì˜ í‘œì¤€ ë°©ë²•ì€?",
                        options: ["ELISA", "qPCR", "Western blot", "Flow cytometry"],
                        correct: 1
                    },
                    {
                        question: "Full capsid ë¹„ìœ¨ì˜ ëª©í‘œê°’ì€?",
                        options: [">50%", ">70%", ">85%", ">95%"],
                        correct: 2
                    }
                ]
            };
            
            return quizData[chapterName] || [
                {
                    question: "ì´ ì±•í„°ì˜ í•µì‹¬ ë‚´ìš©ì„ ì˜ ì´í•´í•˜ì…¨ë‚˜ìš”?",
                    options: ["ë§¤ìš° ì˜ ì´í•´í•¨", "ì–´ëŠ ì •ë„ ì´í•´í•¨", "ì¡°ê¸ˆ ì´í•´í•¨", "ë‹¤ì‹œ í•™ìŠµ í•„ìš”"],
                    correct: 0
                }
            ];
        }

        function submitQuiz() {
            const questions = getQuizForCurrentChapter();
            let score = 0;
            let total = questions.length;
            
            questions.forEach((q, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                if (selected && parseInt(selected.value) === q.correct) {
                    score++;
                }
            });
            
            const percentage = Math.round((score / total) * 100);
            let message = `ì ìˆ˜: ${score}/${total} (${percentage}%)\n\n`;
            
            if (percentage >= 80) {
                message += "ğŸ‰ ìš°ìˆ˜! ë‚´ìš©ì„ ì˜ ì´í•´í•˜ê³  ê³„ì‹­ë‹ˆë‹¤.";
            } else if (percentage >= 60) {
                message += "ğŸ‘ ì–‘í˜¸! ëª‡ ê°€ì§€ ê°œë…ì„ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”.";
            } else {
                message += "ğŸ“š í•´ë‹¹ ì±•í„°ë¥¼ ë‹¤ì‹œ í•™ìŠµí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.";
            }
            
            alert(message);
            closeQuiz();
        }

        function closeQuiz() {
            const modal = document.getElementById('quizModal');
            if (modal) {
                modal.remove();
            }
        }

        function showSummary() {
            const summary = getChapterSummary();
            
            let summaryHTML = `
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 2000; display: flex; align-items: center; justify-content: center;" id="summaryModal">
                    <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 700px; width: 90%; max-height: 80vh; overflow-y: auto;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">ğŸ“„ ${getChapterTitle()} ìš”ì•½</h3>
                        <div style="line-height: 1.6;">
                            ${summary}
                        </div>
                        <div style="text-align: center; margin-top: 2rem;">
                            <button class="btn btn-primary" onclick="closeSummary()">ë‹«ê¸°</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', summaryHTML);
        }

        function getChapterSummary() {
            const chapterName = chapters[currentChapter];
            
            const summaries = {
                intro: `
                    <h4>í•µì‹¬ ìš”ì•½</h4>
                    <ul>
                        <li><strong>AAV ë²¡í„°</strong>: ë¹„ë³‘ì›ì„±, ë‚®ì€ ë©´ì—­ì›ì„±ìœ¼ë¡œ ìœ ì „ì ì¹˜ë£Œì˜ ìµœì  ì „ë‹¬ì²´</li>
                        <li><strong>ì‹œì¥ í˜„í™©</strong>: ì—°í‰ê·  30% ì´ìƒ ì„±ì¥, 70ê°œ ì´ìƒì˜ ì„ìƒì‹œí—˜ ì§„í–‰</li>
                        <li><strong>ì£¼ìš” ë„ì „ê³¼ì œ</strong>: ìŠ¤ì¼€ì¼ì—…, ë¹„ìš© ì ˆê°, Empty/Full ë¹„ìœ¨ ê°œì„ </li>
                        <li><strong>ë¯¸ë˜ ì „ë§</strong>: ì—°ì†ê³µì •, AI í™œìš©ìœ¼ë¡œ ì œì¡°ë¹„ 90% ì ˆê° ëª©í‘œ</li>
                    </ul>
                `,
                design: `
                    <h4>í•µì‹¬ ìš”ì•½</h4>
                    <ul>
                        <li><strong>í˜ˆì²­í˜• ì„ íƒ</strong>: í‘œì  ì¡°ì§ì— ë”°ë¼ AAV1-rh10 ì¤‘ ìµœì  ì„ íƒ</li>
                        <li><strong>ì¹´ì„¸íŠ¸ ì„¤ê³„</strong>: 4.7kb ì´í•˜, ITR ê°„ì„­ ìµœì†Œí™”, codon ìµœì í™”</li>
                        <li><strong>BBB íˆ¬ê³¼</strong>: AAV9ì´ ê°€ì¥ ìš°ìˆ˜, CNS ì§ˆí™˜ì— í•„ìˆ˜</li>
                        <li><strong>ë©´ì—­ íšŒí”¼</strong>: ì°¨ì„¸ëŒ€ ìº¡ì‹œë“œë¡œ ì¬íˆ¬ì—¬ ì„±ê³µë¥  í–¥ìƒ</li>
                    </ul>
                `,
                upstream: `
                    <h4>í•µì‹¬ ìš”ì•½</h4>
                    <ul>
                        <li><strong>ì„¸í¬ ë°°ì–‘</strong>: HEK293 suspension, 200L ì´ìƒ ëŒ€ê·œëª¨ ê°€ëŠ¥</li>
                        <li><strong>Triple transfection</strong>: Vector:Rep/Cap:Helper = 1:1:2 ë¹„ìœ¨</li>
                        <li><strong>ì˜¨ë„ shift</strong>: 37Â°C â†’ 32-34Â°Cë¡œ AAV ì•ˆì •ì„± í–¥ìƒ</li>
                        <li><strong>ëŒ€ì•ˆ ì‹œìŠ¤í…œ</strong>: Baculovirus-Sf9ìœ¼ë¡œ ë” ë†’ì€ ìˆ˜ìœ¨ ë‹¬ì„±</li>
                    </ul>
                `,
                downstream: `
                    <h4>í•µì‹¬ ìš”ì•½</h4>
                    <ul>
                        <li><strong>ì •ì œ ìˆœì„œ</strong>: Clarification â†’ Affinity â†’ IEX â†’ SEC</li>
                        <li><strong>AAVX resin</strong>: ì—…ê³„ í‘œì¤€, ê´‘ë²”ìœ„ í˜ˆì²­í˜• ì ìš© ê°€ëŠ¥</li>
                        <li><strong>Empty/Full ë¶„ë¦¬</strong>: AEXë¡œ ë¶„ë¦¬, AUCë¡œ ì •ëŸ‰</li>
                        <li><strong>ëª©í‘œ ìˆ˜ìœ¨</strong>: ì „ì²´ ê³µì • 65-80% ë‹¬ì„±</li>
                    </ul>
                `,
                quality: `
                    <h4>í•µì‹¬ ìš”ì•½</h4>
                    <ul>
                        <li><strong>í•„ìˆ˜ ì‹œí—˜</strong>: ì—­ê°€(qPCR), ìˆœë„, ì•ˆì „ì„±, ë™ì¼ì„±</li>
                        <li><strong>ê·œê²© ê¸°ì¤€</strong>: HCP <100ng/dose, DNA <10ng/dose</li>
                        <li><strong>Full capsid</strong>: >70% í•„ìˆ˜, >85% ëª©í‘œ</li>
                        <li><strong>ì•ˆì •ì„±</strong>: -80Â°C 24ê°œì›”, -20Â°C 12ê°œì›”</li>
                    </ul>
                `
            };
            
            return summaries[chapterName] || `
                <p>ì´ ì±•í„°ì˜ í•µì‹¬ ë‚´ìš©ì„ ì •ë¦¬í•˜ì—¬ í•™ìŠµ íš¨ê³¼ë¥¼ ë†’ì´ì„¸ìš”.</p>
                <p>ì¤‘ìš”í•œ ê°œë…ë“¤ì„ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•˜ê³ , ì‹¤ë¬´ì— ì ìš©í•  ìˆ˜ ìˆëŠ” ì§€ì‹ì„ ì •ë¦¬í•´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
            `;
        }

        function getChapterTitle() {
            const titles = {
                intro: "ì„œë¡ ",
                design: "ë²¡í„° ì„¤ê³„", 
                overview: "ê³µì • ê°œìš”",
                upstream: "ìƒë¥˜ê³µì •",
                downstream: "í•˜ë¥˜ê³µì •",
                quality: "í’ˆì§ˆê´€ë¦¬",
                gmp: "GMP & ìŠ¤ì¼€ì¼ì—…",
                automation: "ìë™í™” & PAT",
                future: "ë¯¸ë˜ ì „ë§",
                casestudy: "ì‚¬ë¡€ ì—°êµ¬",
                regulatory: "ê·œì œ ê°€ì´ë“œ",
                tools: "ì‹¤ë¬´ ë„êµ¬",
                appendix: "ë¶€ë¡"
            };
            
            return titles[chapters[currentChapter]] || "í˜„ì¬ ì±•í„°";
        }

        function closeSummary() {
            const modal = document.getElementById('summaryModal');
            if (modal) {
                modal.remove();
            }
        }

        function showChapter(chapterName) {
            // Hide all chapters
            document.querySelectorAll('.chapter').forEach(chapter => {
                chapter.classList.remove('active');
            });

            // Show selected chapter
            document.getElementById(`chapter-${chapterName}`).classList.add('active');

            // Update navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            document.querySelector(`[data-chapter="${chapterName}"]`).classList.add('active');

            // Update current chapter index
            currentChapter = chapters.indexOf(chapterName);
            readChapters.add(chapterName);

            // Update bookmark button
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            if (bookmarks.has(chapterName)) {
                bookmarkBtn.textContent = 'ğŸ“Œ ë¶ë§ˆí¬ë¨';
            } else {
                bookmarkBtn.textContent = 'ğŸ”– ë¶ë§ˆí¬';
            }

            updateProgress();
            updateChapterInfo();
        }

        function updateProgress() {
            const totalChapters = chapters.length;
            const completedChapters = readChapters.size;
            const progressPercent = Math.round((completedChapters / totalChapters) * 100);
            
            document.getElementById('progressFill').style.width = progressPercent + '%';
            document.getElementById('progressText').textContent = `${progressPercent}% ì™„ë£Œ`;
        }

        function updateChapterInfo() {
            document.getElementById('chapterInfo').textContent = `${currentChapter + 1} / ${chapters.length}`;
            
            // Update navigation buttons
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentChapter === 0;
            nextBtn.disabled = currentChapter === chapters.length - 1;
        }

        function previousChapter() {
            if (currentChapter > 0) {
                showChapter(chapters[currentChapter - 1]);
            }
        }

        function nextChapter() {
            if (currentChapter < chapters.length - 1) {
                showChapter(chapters[currentChapter + 1]);
            }
        }

        function searchContent(query) {
            // Simple search highlighting
            document.querySelectorAll('.content-text, .section-title, .subsection-title').forEach(element => {
                const text = element.textContent.toLowerCase();
                if (text.includes(query)) {
                    element.style.backgroundColor = 'yellow';
                    element.style.padding = '2px';
                } else {
                    element.style.backgroundColor = '';
                    element.style.padding = '';
                }
            });
        }

        // Calculator functions
        function calculateMarket() {
            const patients = parseFloat(document.getElementById('patientCount').value);
            const dose = parseFloat(document.getElementById('dosePerPatient').value);
            const cost = parseFloat(document.getElementById('costPerDose').value);
            
            const totalMarket = patients * cost;
            const totalDoses = patients * dose;
            
            const result = `
                <strong>ì‹œì¥ ë¶„ì„ ê²°ê³¼:</strong><br>
                â€¢ ì´ ì‹œì¥ ê·œëª¨: ${(totalMarket / 1000000).toFixed(1)}M<br>
                â€¢ í•„ìš” ì´ ìš©ëŸ‰: ${totalDoses.toExponential(2)} GC<br>
                â€¢ í™˜ìë‹¹ ì¹˜ë£Œë¹„: ${cost.toLocaleString()}<br>
                â€¢ ì œì¡° ë³µì¡ë„: ${totalDoses > 1e18 ? 'ë§¤ìš° ë†’ìŒ' : totalDoses > 1e16 ? 'ë†’ìŒ' : 'ì¤‘ê°„'}
            `;
            
            document.getElementById('marketResult').innerHTML = result;
            document.getElementById('marketResult').style.display = 'block';
        }

        function recommendSerotype() {
            const tissue = document.getElementById('targetTissue').value;
            const route = document.getElementById('deliveryRoute').value;
            
            let recommendation = '';
            
            switch(tissue) {
                case 'brain':
                    recommendation = route === 'iv' ? 'AAV9 (BBB íˆ¬ê³¼ì„± ìš°ìˆ˜)' : 'AAV1, AAV9 (ì§ì ‘ ì£¼ì‚¬)';
                    break;
                case 'liver':
                    recommendation = 'AAV8 (ê°„ íŠ¹ì´ì„± ìµœê³ ), AAV2 (ë²”ìš©)';
                    break;
                case 'muscle':
                    recommendation = 'AAV1 (ê·¼ìœ¡ íŠ¹ì´ì„±), AAV6 (ì‹¬ê·¼)';
                    break;
                case 'eye':
                    recommendation = 'AAV2 (ë§ë§‰), AAV8 (ì•ˆêµ¬ë‚´ ì£¼ì‚¬)';
                    break;
                case 'lung':
                    recommendation = 'AAVrh10, AAV5 (ê¸°ë„ìƒí”¼)';
                    break;
                case 'heart':
                    recommendation = 'AAV6, AAV9 (ì‹¬ê·¼ì„¸í¬)';
                    break;
            }
            
            const result = `
                <strong>ì¶”ì²œ í˜ˆì²­í˜•:</strong><br>
                ${recommendation}<br><br>
                <strong>ê³ ë ¤ì‚¬í•­:</strong><br>
                â€¢ ë©´ì—­ì›ì„± ë° ì¤‘í™”í•­ì²´ ì¡´ì¬ ì—¬ë¶€ í™•ì¸<br>
                â€¢ ì¢…ê°„ ì°¨ì´ (ë™ë¬¼ëª¨ë¸ vs ì¸ê°„)<br>
                â€¢ ìš©ëŸ‰ ìµœì í™” í•„ìš”
            `;
            
            document.getElementById('serotypeResult').innerHTML = result;
            document.getElementById('serotypeResult').style.display = 'block';
        }

        function calculateCassetteSize() {
            const itr = 290;
            const promoter = parseFloat(document.getElementById('promoterLength').value) || 0;
            const gene = parseFloat(document.getElementById('geneLength').value) || 0;
            const polyA = parseFloat(document.getElementById('polyALength').value) || 0;
            
            const total = itr + promoter + gene + polyA;
            const limit = 4700;
            const remaining = limit - total;
            
            let status = '';
            let color = '';
            
            if (total <= limit) {
                status = 'âœ… íŒ¨í‚¤ì§• ê°€ëŠ¥';
                color = 'var(--success-color)';
            } else {
                status = 'âŒ í¬ê¸° ì´ˆê³¼ - ìµœì í™” í•„ìš”';
                color = 'var(--danger-color)';
            }
            
            const result = `
                <div style="color: ${color};">
                    <strong>ì´ ì¹´ì„¸íŠ¸ í¬ê¸°: ${total} bp</strong><br>
                    í•œê³„ê¹Œì§€ ì—¬ìœ : ${remaining} bp<br>
                    ìƒíƒœ: ${status}
                </div>
            `;
            
            document.getElementById('cassetteResult').innerHTML = result;
            document.getElementById('cassetteResult').style.display = 'block';
        }

        function calculateScaleup() {
            const current = parseFloat(document.getElementById('currentScale').value);
            const target = parseFloat(document.getElementById('targetScale').value);
            const yield_val = parseFloat(document.getElementById('currentYield').value);
            
            const scaleFactor = target / current;
            const expectedYield = yield_val * 0.8; // Typically 20% reduction in yield
            const totalProduction = target * expectedYield;
            
            const challenges = scaleFactor > 10 ? 'ë†’ìŒ - ìƒë‹¹í•œ ìµœì í™” í•„ìš”' : 
                              scaleFactor > 5 ? 'ì¤‘ê°„ - ê³µì • ì¡°ì • í•„ìš”' : 'ë‚®ìŒ';
            
            const result = `
                <strong>ìŠ¤ì¼€ì¼ì—… ë¶„ì„:</strong><br>
                â€¢ ìŠ¤ì¼€ì¼ ì¦ê°€: ${scaleFactor.toFixed(1)}x<br>
                â€¢ ì˜ˆìƒ ìˆ˜ìœ¨: ${expectedYield.toExponential(2)} GC/L<br>
                â€¢ ì´ ìƒì‚°ëŸ‰: ${totalProduction.toExponential(2)} GC<br>
                â€¢ ê¸°ìˆ ì  ë‚œì´ë„: ${challenges}<br>
                â€¢ ê¶Œì¥ ë‹¨ê³„: ${scaleFactor > 10 ? 'ë‹¨ê³„ì  ìŠ¤ì¼€ì¼ì—…' : 'ì§ì ‘ ìŠ¤ì¼€ì¼ì—… ê°€ëŠ¥'}
            `;
            
            document.getElementById('scaleupResult').innerHTML = result;
            document.getElementById('scaleupResult').style.display = 'block';
        }

        function calculateCulture() {
            const volume = parseFloat(document.getElementById('cultureVolume').value);
            const initialDensity = parseFloat(document.getElementById('initialDensity').value);
            const targetDensity = parseFloat(document.getElementById('targetDensity').value);
            const doublingTime = parseFloat(document.getElementById('doublingTime').value);
            
            const doublingRequired = Math.log2(targetDensity / initialDensity);
            const timeRequired = doublingRequired * doublingTime;
            const totalCells = volume * 1000 * targetDensity * 1e6; // Total cells at transfection
            
            const result = `
                <strong>ë°°ì–‘ ê³„íš:</strong><br>
                â€¢ í•„ìš” ë°°ê°€ íšŸìˆ˜: ${doublingRequired.toFixed(1)}íšŒ<br>
                â€¢ ì†Œìš” ì‹œê°„: ${timeRequired.toFixed(1)}ì‹œê°„ (${(timeRequired/24).toFixed(1)}ì¼)<br>
                â€¢ Transfection ì‹œì  ì´ ì„¸í¬ìˆ˜: ${totalCells.toExponential(2)}ê°œ<br>
                â€¢ ê¶Œì¥ feeding ì‹œì‘: ${timeRequired > 48 ? 'Day 2ë¶€í„°' : 'Day 1ë¶€í„°'}<br>
                â€¢ ì˜ˆìƒ harvest: Day ${Math.ceil(timeRequired/24) + 4}
            `;
            
            document.getElementById('cultureResult').innerHTML = result;
            document.getElementById('cultureResult').style.display = 'block';
        }

        function calculateTransfection() {
            const volume = parseFloat(document.getElementById('transfectionVolume').value);
            const cellDensity = parseFloat(document.getElementById('cellDensity').value);
            const dnaConc = parseFloat(document.getElementById('dnaConcentration').value);
            
            const totalCells = volume * cellDensity * 1e6;
            const totalDNA = volume * dnaConc / 1000; // Convert to mg
            const vectorDNA = totalDNA * 0.25; // 25% of total DNA
            const repCapDNA = totalDNA * 0.25; // 25% of total DNA
            const helperDNA = totalDNA * 0.5; // 50% of total DNA
            const peiAmount = totalDNA * 3; // 3:1 PEI:DNA ratio
            
            const result = `
                <strong>Transfection ë ˆì‹œí”¼ (${volume/1000}L):</strong><br>
                â€¢ ì´ ì„¸í¬ìˆ˜: ${totalCells.toExponential(2)}ê°œ<br>
                â€¢ Vector plasmid: ${vectorDNA.toFixed(1)} mg<br>
                â€¢ Rep/Cap plasmid: ${repCapDNA.toFixed(1)} mg<br>
                â€¢ Helper plasmid: ${helperDNA.toFixed(1)} mg<br>
                â€¢ PEI ì‹œì•½: ${peiAmount.toFixed(1)} mg<br>
                â€¢ ë³µí•©ì²´ í˜•ì„± ì‹œê°„: 15-20ë¶„<br>
                â€¢ ì²¨ê°€ í›„ ì˜¨ë„: 32-34Â°Cë¡œ shift
            `;
            
            document.getElementById('transfectionResult').innerHTML = result;
            document.getElementById('transfectionResult').style.display = 'block';
        }

        function calculateLysis() {
            const volume = parseFloat(document.getElementById('harvestVolume').value);
            const density = parseFloat(document.getElementById('harvestDensity').value);
            const method = document.getElementById('lysisMethod').value;
            
            const totalCells = volume * 1000 * density * 1e6;
            let lysisReagent = '';
            let condition = '';
            let time = '';
            
            switch(method) {
                case 'triton':
                    lysisReagent = `Triton X-100: ${(volume * 0.5).toFixed(1)} mL (0.1% ìµœì¢…ë†ë„)`;
                    condition = '4Â°C, 30ë¶„ êµë°˜';
                    time = '1-2ì‹œê°„';
                    break;
                case 'freeze':
                    lysisReagent = 'ë™ê²°í•´ë™ (3íšŒ)';
                    condition = '-80Â°C â†’ 37Â°C ë°˜ë³µ';
                    time = '6-8ì‹œê°„';
                    break;
                case 'detergent':
                    lysisReagent = 'ê¸°íƒ€ ì„¸ì œ (ë†ë„ ìµœì í™” í•„ìš”)';
                    condition = '4Â°C, ì˜¨í™”í•œ êµë°˜';
                    time = '1-3ì‹œê°„';
                    break;
            }
            
            const benzonase = (totalCells / 1e8 * 25).toFixed(1); // 25 U per 1e8 cells
            
            const result = `
                <strong>ìš©í•´ ì¡°ê±´ (${volume}L):</strong><br>
                â€¢ ì´ ì„¸í¬ìˆ˜: ${totalCells.toExponential(2)}ê°œ<br>
                â€¢ ${lysisReagent}<br>
                â€¢ Benzonase: ${benzonase} Units<br>
                â€¢ ì¡°ê±´: ${condition}<br>
                â€¢ ì†Œìš”ì‹œê°„: ${time}<br>
                â€¢ ë‹¤ìŒ ë‹¨ê³„: Depth filtration
            `;
            
            document.getElementById('lysisResult').innerHTML = result;
            document.getElementById('lysisResult').style.display = 'block';
        }

        function calculateColumn() {
            const volume = parseFloat(document.getElementById('columnVolume').value);
            const aavConc = parseFloat(document.getElementById('aavConcentration').value) * 1e12;
            const capacity = parseFloat(document.getElementById('resinCapacity').value) * 1e13;
            const flowRate = parseFloat(document.getElementById('flowRate').value);
            
            const totalAAV = volume * aavConc;
            const requiredResin = totalAAV / capacity * 2; // 2x safety factor
            const columnVolume_L = requiredResin / 1000; // Convert to L
            const diameter = Math.sqrt(columnVolume_L * 4 / (Math.PI * 0.2)); // Assume H/D = 5
            const height = diameter * 5;
            const processTime = volume / (columnVolume_L * flowRate) * 1000;
            
            const result = `
                <strong>ì»¬ëŸ¼ ì‚¬ì´ì§• ê²°ê³¼:</strong><br>
                â€¢ ì´ AAV ëŸ‰: ${totalAAV.toExponential(2)} GC<br>
                â€¢ í•„ìš” ìˆ˜ì§€ëŸ‰: ${requiredResin.toFixed(1)} mL<br>
                â€¢ ì»¬ëŸ¼ ë¶€í”¼: ${columnVolume_L.toFixed(2)} L<br>
                â€¢ ê¶Œì¥ ì§ê²½: ${(diameter * 100).toFixed(1)} cm<br>
                â€¢ ê¶Œì¥ ë†’ì´: ${(height * 100).toFixed(1)} cm<br>
                â€¢ ì˜ˆìƒ ê³µì •ì‹œê°„: ${processTime.toFixed(1)}ì‹œê°„<br>
                â€¢ ìµœëŒ€ ì••ë ¥: ${(height * 100 * 0.1).toFixed(1)} bar
            `;
            
            document.getElementById('columnResult').innerHTML = result;
            document.getElementById('columnResult').style.display = 'block';
        }

        function calculateEmptyFull() {
            const initialFull = parseFloat(document.getElementById('initialFull').value);
            const efficiency = parseFloat(document.getElementById('separationEfficiency').value);
            const recovery = parseFloat(document.getElementById('recoveryYield').value);
            
            const emptyRemoved = (100 - initialFull) * efficiency / 100;
            const finalEmpty = (100 - initialFull) - emptyRemoved;
            const finalFull = 100 - finalEmpty;
            const finalRecovery = recovery / 100;
            
            const result = `
                <strong>ë¶„ë¦¬ ê²°ê³¼ ì˜ˆì¸¡:</strong><br>
                â€¢ ì´ˆê¸° Full capsid: ${initialFull}%<br>
                â€¢ ìµœì¢… Full capsid: ${finalFull.toFixed(1)}%<br>
                â€¢ Empty capsid ì œê±°ìœ¨: ${emptyRemoved.toFixed(1)}%<br>
                â€¢ ì „ì²´ íšŒìˆ˜ìœ¨: ${recovery}%<br>
                â€¢ ì‹¤ì œ Full capsid íšŒìˆ˜: ${(finalFull * finalRecovery).toFixed(1)}%<br>
                â€¢ í’ˆì§ˆ ê°œì„ ë„: ${(finalFull / initialFull).toFixed(1)}ë°°
            `;
            
            document.getElementById('emptyFullResult').innerHTML = result;
            document.getElementById('emptyFullResult').style.display = 'block';
        }

        function calculateTiter() {
            const ct = parseFloat(document.getElementById('ctValue').value);
            const slope = parseFloat(document.getElementById('slope').value);
            const intercept = parseFloat(document.getElementById('intercept').value);
            const dilution = parseFloat(document.getElementById('dilution').value);
            
            // Calculate log concentration from standard curve
            const logConc = (intercept - ct) / (-slope);
            const concentration = Math.pow(10, logConc);
            const finalTiter = concentration * dilution;
            
            const result = `
                <strong>ì—­ê°€ ê³„ì‚° ê²°ê³¼:</strong><br>
                â€¢ Ct ê°’: ${ct}<br>
                â€¢ í‘œì¤€ê³¡ì„  ë†ë„: ${concentration.toExponential(2)} copies/Î¼L<br>
                â€¢ í¬ì„ ë³´ì •: Ã—${dilution}<br>
                â€¢ ìµœì¢… ì—­ê°€: ${finalTiter.toExponential(2)} GC/mL<br>
                â€¢ Log ì—­ê°€: ${Math.log10(finalTiter).toFixed(1)} log GC/mL<br>
                â€¢ í’ˆì§ˆ í‰ê°€: ${finalTiter > 1e13 ? 'ìš°ìˆ˜' : finalTiter > 1e12 ? 'ì–‘í˜¸' : 'ê°œì„  í•„ìš”'}
            `;
            
            document.getElementById('titerResult').innerHTML = result;
            document.getElementById('titerResult').style.display = 'block';
        }

        function calculateStability() {
            const initialTiter = parseFloat(document.getElementById('initialTiter').value);
            const temp = parseFloat(document.getElementById('storageTemp').value);
            const period = parseFloat(document.getElementById('storagePeriod').value);
            
            // Simplified degradation model based on temperature
            let degradationRate = 0;
            switch(temp) {
                case -80:
                    degradationRate = 0.001; // Very stable
                    break;
                case -20:
                    degradationRate = 0.01;
                    break;
                case 4:
                    degradationRate = 0.05;
                    break;
                case 25:
                    degradationRate = 0.2;
                    break;
            }
            
            const finalTiter = initialTiter - (degradationRate * period);
            const stability = ((finalTiter / initialTiter) * 100).toFixed(1);
            
            const result = `
                <strong>ì•ˆì •ì„± ì˜ˆì¸¡:</strong><br>
                â€¢ ì´ˆê¸° ì—­ê°€: ${initialTiter} log GC/mL<br>
                â€¢ ë³´ê´€ ì¡°ê±´: ${temp}Â°C, ${period}ê°œì›”<br>
                â€¢ ì˜ˆìƒ ìµœì¢… ì—­ê°€: ${finalTiter.toFixed(1)} log GC/mL<br>
                â€¢ ì”ì¡´ í™œì„±: ${stability}%<br>
                â€¢ ì•ˆì •ì„± í‰ê°€: ${stability > 90 ? 'ìš°ìˆ˜' : stability > 80 ? 'ì–‘í˜¸' : 'ë¶ˆì•ˆì •'}<br>
                â€¢ ê¶Œì¥ì‚¬í•­: ${temp > -20 ? 'ë” ë‚®ì€ ì˜¨ë„ ë³´ê´€ ê¶Œì¥' : 'í˜„ì¬ ì¡°ê±´ ìœ ì§€'}
            `;
            
            document.getElementById('stabilityResult').innerHTML = result;
            document.getElementById('stabilityResult').style.display = 'block';
        }

        function calculateFacility() {
            const batches = parseFloat(document.getElementById('annualBatches').value);
            const cycleTime = parseFloat(document.getElementById('batchCycleTime').value);
            const lines = parseFloat(document.getElementById('parallelLines').value);
            const batchSize = parseFloat(document.getElementById('facilityBatchSize').value);
            
            const totalTime = batches * cycleTime;
            const requiredCapacity = totalTime / (365 * 0.8); // 80% utilization
            const actualLines = Math.max(lines, Math.ceil(requiredCapacity));
            const facilityArea = actualLines * 500 + 1000; // 500mÂ² per line + 1000mÂ² support
            const investment = facilityArea * 5000; // $5000 per mÂ²
            
            const result = `
                <strong>ì‹œì„¤ ìš”êµ¬ì‚¬í•­:</strong><br>
                â€¢ ì—°ê°„ ì´ ìš´ì˜ì‹œê°„: ${totalTime}ì¼<br>
                â€¢ í•„ìš” ìƒì‚°ë¼ì¸: ${actualLines}ê°œ<br>
                â€¢ ì´ ì‹œì„¤ ë©´ì : ${facilityArea.toLocaleString()} mÂ²<br>
                â€¢ ì˜ˆìƒ íˆ¬ìë¹„: ${(investment/1000000).toFixed(1)}M<br>
                â€¢ ì—°ê°„ ìƒì‚°ëŠ¥ë ¥: ${(actualLines * 365 * 0.8 / cycleTime).toFixed(0)}ë°°ì¹˜<br>
                â€¢ ê°€ë™ë¥ : ${(batches / (actualLines * 365 * 0.8 / cycleTime) * 100).toFixed(1)}%
            `;
            
            document.getElementById('facilityResult').innerHTML = result;
            document.getElementById('facilityResult').style.display = 'block';
        }

        function calculateCpk() {
            const mean = parseFloat(document.getElementById('processMean').value);
            const std = parseFloat(document.getElementById('processStd').value);
            const lsl = parseFloat(document.getElementById('lsl').value);
            const usl = parseFloat(document.getElementById('usl').value);
            
            const cp = (usl - lsl) / (6 * std);
            const cpk = Math.min((usl - mean) / (3 * std), (mean - lsl) / (3 * std));
            const ppk = cpk; // Simplified
            
            let capability = '';
            if (cpk >= 1.67) capability = 'ìš°ìˆ˜ (6Ïƒ)';
            else if (cpk >= 1.33) capability = 'ì–‘í˜¸ (4Ïƒ)';
            else if (cpk >= 1.0) capability = 'ë³´í†µ (3Ïƒ)';
            else capability = 'ë¶€ì¡± (ê°œì„  í•„ìš”)';
            
            const result = `
                <strong>ê³µì • ëŠ¥ë ¥ í‰ê°€:</strong><br>
                â€¢ Cp (ê³µì • ì ì¬ëŠ¥ë ¥): ${cp.toFixed(2)}<br>
                â€¢ Cpk (ê³µì • ì„±ëŠ¥ì§€ìˆ˜): ${cpk.toFixed(2)}<br>
                â€¢ ëŠ¥ë ¥ í‰ê°€: ${capability}<br>
                â€¢ ë¶ˆëŸ‰ë¥  ì˜ˆìƒ: ${cpk > 1.33 ? '<64 ppm' : cpk > 1.0 ? '<2700 ppm' : '>2700 ppm'}<br>
                â€¢ ê¶Œì¥ì‚¬í•­: ${cpk < 1.33 ? 'ê³µì • ê°œì„  í•„ìš”' : 'í˜„ì¬ ìˆ˜ì¤€ ìœ ì§€'}
            `;
            
            document.getElementById('cpkResult').innerHTML = result;
            document.getElementById('cpkResult').style.display = 'block';
        }

        function calculateROI() {
            const batches = parseFloat(document.getElementById('sensorBatches').value);
            const batchValue = parseFloat(document.getElementById('batchValue').value);
            const reduction = parseFloat(document.getElementById('failureReduction').value);
            const cost = parseFloat(document.getElementById('sensorCost').value);
            
            const annualSavings = batches * batchValue * (reduction / 100);
            const roi = ((annualSavings - cost) / cost * 100);
            const payback = cost / annualSavings;
            
            const result = `
                <strong>ì„¼ì„œ íˆ¬ì ROI:</strong><br>
                â€¢ ì—°ê°„ ì˜ˆìƒ ì ˆì•½: ${(annualSavings/1000).toFixed(0)}K<br>
                â€¢ íˆ¬ì íšŒìˆ˜ ê¸°ê°„: ${payback.toFixed(1)}ë…„<br>
                â€¢ ì—°ê°„ ROI: ${roi.toFixed(0)}%<br>
                â€¢ 5ë…„ ëˆ„ì  ì ˆì•½: ${(annualSavings*5/1000000).toFixed(1)}M<br>
                â€¢ íˆ¬ì ê¶Œì¥: ${roi > 50 ? 'ê°•ë ¥ ì¶”ì²œ' : roi > 20 ? 'ì¶”ì²œ' : 'ì‹ ì¤‘ ê²€í† '}
            `;
            
            document.getElementById('roiResult').innerHTML = result;
            document.getElementById('roiResult').style.display = 'block';
        }

        function predictHarvest() {
            const density = parseFloat(document.getElementById('aiCellDensity').value);
            const viability = parseFloat(document.getElementById('aiViability').value);
            const glucose = parseFloat(document.getElementById('aiGlucose').value);
            const postInfection = parseFloat(document.getElementById('aiPostInfection').value);
            
            // Simplified AI prediction model
            let score = 0;
            score += density > 2.0 ? 10 : 5;
            score += viability > 90 ? 10 : viability > 80 ? 5 : 0;
            score += glucose < 2.0 ? 10 : glucose < 5.0 ? 5 : 0;
            score += postInfection > 72 ? 10 : postInfection > 48 ? 5 : 0;
            
            const optimalHarvest = postInfection + (40 - score/2);
            const yieldPrediction = score > 30 ? 'ë†’ìŒ' : score > 20 ? 'ì¤‘ê°„' : 'ë‚®ìŒ';
            
            const result = `
                <strong>AI ì˜ˆì¸¡ ê²°ê³¼:</strong><br>
                â€¢ ë°°ì–‘ ê±´ê°•ë„ ì ìˆ˜: ${score}/40<br>
                â€¢ ìµœì  Harvest ì‹œì : ${optimalHarvest.toFixed(0)}ì‹œê°„ í›„<br>
                â€¢ ì˜ˆìƒ ìˆ˜ìœ¨: ${yieldPrediction}<br>
                â€¢ ê¶Œì¥ ì¡°ì¹˜: ${score < 20 ? 'ë°°ì–‘ ì¡°ê±´ ê°œì„ ' : 'ì •ìƒ ì§„í–‰'}<br>
                â€¢ ì‹ ë¢°ë„: ${score > 25 ? 'ë†’ìŒ' : 'ì¤‘ê°„'}<br>
                â€¢ ì•Œë¦¼: ${optimalHarvest - postInfection < 12 ? 'ê³§ Harvest ì¤€ë¹„' : 'ê³„ì† ëª¨ë‹ˆí„°ë§'}
            `;
            
            document.getElementById('aiPredictionResult').innerHTML = result;
            document.getElementById('aiPredictionResult').style.display = 'block';
        }

        function calculateCapsidROI() {
            const devCost = parseFloat(document.getElementById('developmentCost').value);
            const efficiency = parseFloat(document.getElementById('efficiencyGain').value);
            const marketSize = parseFloat(document.getElementById('marketSize').value);
            const share = parseFloat(document.getElementById('marketShare').value);
            
            const revenue = marketSize * share / 100;
            const additionalRevenue = revenue * (efficiency - 1) / efficiency;
            const roi = ((additionalRevenue - devCost) / devCost * 100);
            const payback = devCost / additionalRevenue;
            
            const result = `
                <strong>ìº¡ì‹œë“œ ê°œë°œ ROI:</strong><br>
                â€¢ ì˜ˆìƒ ë§¤ì¶œ: ${revenue.toFixed(0)}M<br>
                â€¢ ì¶”ê°€ ë§¤ì¶œ (íš¨ìœ¨ê°œì„ ): ${additionalRevenue.toFixed(0)}M<br>
                â€¢ íˆ¬ì íšŒìˆ˜ ê¸°ê°„: ${payback.toFixed(1)}ë…„<br>
                â€¢ ROI: ${roi.toFixed(0)}%<br>
                â€¢ ê°œë°œ ê¶Œì¥ë„: ${roi > 200 ? 'ë§¤ìš° ë†’ìŒ' : roi > 100 ? 'ë†’ìŒ' : 'ë³´í†µ'}
            `;
            
            document.getElementById('capsidROIResult').innerHTML = result;
            document.getElementById('capsidROIResult').style.display = 'block';
        }

        function calculateContinuous() {
            const batchYield = parseFloat(document.getElementById('batchYield').value);
            const contYield = parseFloat(document.getElementById('continuousYield').value);
            const uptime = parseFloat(document.getElementById('uptimeImprovement').value);
            const capex = parseFloat(document.getElementById('capexIncrease').value);
            
            const yieldGain = contYield / batchYield;
            const productivityGain = yieldGain * (1 + uptime/100);
            const costReduction = 1 - (1 / productivityGain);
            const paybackYears = (capex/100) / costReduction;
            
            const result = `
                <strong>ì—°ì†ê³µì • ê²½ì œì„±:</strong><br>
                â€¢ ìˆ˜ìœ¨ ê°œì„ : ${yieldGain.toFixed(1)}ë°°<br>
                â€¢ ìƒì‚°ì„± í–¥ìƒ: ${productivityGain.toFixed(1)}ë°°<br>
                â€¢ ë¹„ìš© ì ˆê°: ${(costReduction*100).toFixed(0)}%<br>
                â€¢ íˆ¬ì íšŒìˆ˜: ${paybackYears.toFixed(1)}ë…„<br>
                â€¢ ê¶Œì¥ë„: ${paybackYears < 3 ? 'ê°•ë ¥ ì¶”ì²œ' : paybackYears < 5 ? 'ì¶”ì²œ' : 'ì‹ ì¤‘ ê²€í† '}
            `;
            
            document.getElementById('continuousResult').innerHTML = result;
            document.getElementById('continuousResult').style.display = 'block';
        }

        function predictCostReduction() {
            const currentCost = parseFloat(document.getElementById('currentCost').value);
            const year = parseInt(document.getElementById('targetYear').value);
            const adoption = parseFloat(document.getElementById('adoptionRate').value);
            
            const yearsFromNow = year - 2025;
            let reductionRate = 0;
            
            // Technology-driven cost reduction rates
            switch(year) {
                case 2026:
                    reductionRate = 0.15; // 15% reduction
                    break;
                case 2028:
                    reductionRate = 0.40; // 40% reduction
                    break;
                case 2030:
                    reductionRate = 0.70; // 70% reduction
                    break;
            }
            
            const adjustedReduction = reductionRate * (adoption / 100);
            const predictedCost = currentCost * (1 - adjustedReduction);
            const savings = currentCost - predictedCost;
            
            const result = `
                <strong>${year}ë…„ ë¹„ìš© ì˜ˆì¸¡:</strong><br>
                â€¢ í˜„ì¬ ë¹„ìš©: ${(currentCost/1000).toFixed(0)}K/dose<br>
                â€¢ ì˜ˆìƒ ë¹„ìš©: ${(predictedCost/1000).toFixed(0)}K/dose<br>
                â€¢ ì ˆê° ê¸ˆì•¡: ${(savings/1000).toFixed(0)}K/dose<br>
                â€¢ ì ˆê°ë¥ : ${(adjustedReduction*100).toFixed(0)}%<br>
                â€¢ ê¸°ìˆ  ê¸°ì—¬: ${reductionRate > 0.5 ? 'í˜ì‹ ì ' : reductionRate > 0.3 ? 'ìƒë‹¹í•¨' : 'ì ì§„ì '}<br>
                â€¢ ë‹¬ì„± ê°€ëŠ¥ì„±: ${adoption > 80 ? 'ë†’ìŒ' : adoption > 60 ? 'ì¤‘ê°„' : 'ë‚®ìŒ'}
            `;
            
            document.getElementById('costPredictionResult').innerHTML = result;
            document.getElementById('costPredictionResult').style.display = 'block';
        }

        function calculateEconomics() {
            const batchSize = parseFloat(document.getElementById('batchSize').value);
            const yield_val = parseFloat(document.getElementById('yield').value);
            const batchCost = parseFloat(document.getElementById('batchCost').value);
            const patientDose = parseFloat(document.getElementById('patientDose').value);
            
            const totalGC = batchSize * 1000 * yield_val; // Convert L to mL
            const patientsPerBatch = totalGC / patientDose;
            const costPerPatient = batchCost / patientsPerBatch;
            const costPerGC = batchCost / totalGC;
            
            const result = `
                <strong>ê²½ì œì„± ë¶„ì„ ê²°ê³¼:</strong><br>
                â€¢ ë°°ì¹˜ë‹¹ ì´ ìƒì‚°ëŸ‰: ${totalGC.toExponential(2)} GC<br>
                â€¢ ë°°ì¹˜ë‹¹ í™˜ì ìˆ˜: ${patientsPerBatch.toFixed(1)}ëª…<br>
                â€¢ í™˜ìë‹¹ ì œì¡°ë¹„ìš©: ${costPerPatient.toLocaleString()}<br>
                â€¢ GCë‹¹ ë¹„ìš©: ${(costPerGC * 1e12).toFixed(2)}/10Â¹Â² GC<br>
                â€¢ ê²½ì œì„± í‰ê°€: ${costPerPatient > 100000 ? 'ê°œì„  í•„ìš”' : costPerPatient > 50000 ? 'ë³´í†µ' : 'ìš°ìˆ˜'}
            `;
            
            document.getElementById('economicsResult').innerHTML = result;
            document.getElementById('economicsResult').style.display = 'block';
        }

        function troubleshoot() {
            const problemType = document.getElementById('problemType').value;
            const stage = document.getElementById('problemStage').value;
            
            let solutions = '';
            
            if (problemType === 'low_yield') {
                if (stage === 'upstream') {
                    solutions = `
                        <strong>ë‚®ì€ ìˆ˜ìœ¨ í•´ê²°ë°©ì•ˆ (ìƒë¥˜ê³µì •):</strong><br>
                        â€¢ Transfection íš¨ìœ¨ í™•ì¸ ë° ìµœì í™”<br>
                        â€¢ í”Œë¼ìŠ¤ë¯¸ë“œ í’ˆì§ˆ ë° ë¹„ìœ¨ ì¬ê²€í† <br>
                        â€¢ ì„¸í¬ ê±´ê°•ë„ ë° ë°°ì–‘ ì¡°ê±´ ì ê²€<br>
                        â€¢ MOI ìµœì í™” (Baculovirus ì‹œìŠ¤í…œ)<br>
                        â€¢ Harvest ì‹œì  ì¬í‰ê°€
                    `;
                } else {
                    solutions = `
                        <strong>ë‚®ì€ ìˆ˜ìœ¨ í•´ê²°ë°©ì•ˆ (í•˜ë¥˜ê³µì •):</strong><br>
                        â€¢ ê° ì •ì œ ë‹¨ê³„ë³„ ìˆ˜ìœ¨ ì¶”ì <br>
                        â€¢ ìš©í•´ ì¡°ê±´ ìµœì í™”<br>
                        â€¢ í¬ë¡œë§ˆí† ê·¸ë˜í”¼ ì¡°ê±´ ì¬ê²€í† <br>
                        â€¢ TFF ë§‰ fouling ì ê²€<br>
                        â€¢ ì˜¨ë„ ë° pH ì¡°ê±´ í™•ì¸
                    `;
                }
            } else if (problemType === 'high_empty') {
                solutions = `
                    <strong>ë†’ì€ Empty capsid í•´ê²°ë°©ì•ˆ:</strong><br>
                    â€¢ Rep/Cap í”Œë¼ìŠ¤ë¯¸ë“œ ë¹„ìœ¨ ì¡°ì •<br>
                    â€¢ ì˜¨ë„ shift íƒ€ì´ë° ìµœì í™”<br>
                    â€¢ AEX ì¡°ê±´ìœ¼ë¡œ Empty/Full ë¶„ë¦¬<br>
                    â€¢ ë°°ì–‘ ì‹œê°„ ë‹¨ì¶• ê²€í† <br>
                    â€¢ ITR ë¬´ê²°ì„± í™•ì¸
                `;
            } else if (problemType === 'contamination') {
                solutions = `
                    <strong>ì˜¤ì—¼ í•´ê²°ë°©ì•ˆ:</strong><br>
                    â€¢ í™˜ê²½ ëª¨ë‹ˆí„°ë§ ê°•í™”<br>
                    â€¢ ë¬´ê·  ì¡°ì‘ ì ˆì°¨ ì¬ê²€í† <br>
                    â€¢ ì¥ë¹„ ì„¸ì²™ validation<br>
                    â€¢ ì›ë£Œ ë¬´ê· ì„± í™•ì¸<br>
                    â€¢ ì¸ë ¥ ì¬êµìœ¡ ì‹¤ì‹œ
                `;
            } else if (problemType === 'aggregation') {
                solutions = `
                    <strong>ì‘ì§‘ í•´ê²°ë°©ì•ˆ:</strong><br>
                    â€¢ ì œí˜• buffer ìµœì í™”<br>
                    â€¢ ë†ì¶• ì¡°ê±´ ì™„í™”<br>
                    â€¢ ì˜¨ë„ ê´€ë¦¬ ê°•í™”<br>
                    â€¢ êµë°˜ ì†ë„ ì¡°ì •<br>
                    â€¢ ë™ê²°í•´ë™ ì¡°ê±´ ê°œì„ 
                `;
            } else {
                solutions = `
                    <strong>ë‚®ì€ íšŒìˆ˜ìœ¨ í•´ê²°ë°©ì•ˆ:</strong><br>
                    â€¢ ê° ë‹¨ê³„ë³„ ì†ì‹¤ ë¶„ì„<br>
                    â€¢ ì¥ë¹„ ì„¸ì²™ íš¨ìœ¨ í™•ì¸<br>
                    â€¢ Hold time ìµœì†Œí™”<br>
                    â€¢ ë°°ê´€ Dead volume ì ê²€<br>
                    â€¢ ìƒ˜í”Œë§ ì ˆì°¨ ê°œì„ 
                `;
            }
            
            document.getElementById('troubleshootResult').innerHTML = solutions;
            document.getElementById('troubleshootResult').style.display = 'block';
        }

        function analyzeProduct() {
            const product = document.getElementById('productSelect').value;
            const analysisType = document.getElementById('analysisType').value;
            
            const productData = {
                zolgensma: {
                    technical: "AAV9 ë²¡í„°, SMN1 ìœ ì „ì íƒ‘ì¬, ë‹¨íšŒ íˆ¬ì—¬, BBB íˆ¬ê³¼ì„± ìš°ìˆ˜",
                    clinical: "ìš´ë™ ê¸°ëŠ¥ ê°œì„  90%, 2ë…„ ìƒì¡´ìœ¨ 100%, í˜¸í¡ ì§€ì› ë¶ˆí•„ìš” 85%",
                    manufacturing: "Novartis ëŒ€ê·œëª¨ ì‹œì„¤, suspension culture, ì—°ê°„ 200+ dose ìƒì‚° ê°€ëŠ¥",
                    regulatory: "FDA Breakthrough Therapy, Orphan Drug, ìš°ì„ ì‹¬ì‚¬ë¡œ ë¹ ë¥¸ ìŠ¹ì¸",
                    commercial: "$2.1M/dose, ë³´í—˜ ì ìš©ë¥  95%, ì „ ì„¸ê³„ 1,000+ í™˜ì ì¹˜ë£Œ"
                },
                luxturna: {
                    technical: "AAV2 ë²¡í„°, RPE65 ìœ ì „ì, ì§ì ‘ ì•ˆêµ¬ë‚´ ì£¼ì‚¬, ë§ë§‰ íŠ¹ì´ì„±",
                    clinical: "ì‹œë ¥ ê°œì„  65%, ê¸°ëŠ¥ì  ì‹œì•¼ í™•ëŒ€, 3ë…„ ì§€ì† íš¨ê³¼ í™•ì¸",
                    manufacturing: "Spark/Roche ì œì¡°, ì†Œê·œëª¨ ìƒì‚°, ì—°ê°„ 100 dose ìˆ˜ì¤€",
                    regulatory: "FDA ì²« AAV ìŠ¹ì¸, Orphan Drug, íšê¸°ì  ì¹˜ë£Œì œ ì§€ì •",
                    commercial: "$425K/dose, ì œí•œì  í™˜ìêµ° (1,000-2,000ëª…), 90% ë³´í—˜ ì ìš©"
                },
                glybera: {
                    technical: "AAV1 ë²¡í„°, LPL ìœ ì „ì, ê·¼ìœ¡ë‚´ ë‹¤ì¤‘ ì£¼ì‚¬, ë°œí˜„ ìˆ˜ì¤€ ë‚®ìŒ",
                    clinical: "í˜ˆì¤‘ ì¤‘ì„±ì§€ë°© ê°ì†Œ 50%, ê°œì„  íš¨ê³¼ ì¼ì‹œì , ì¬íˆ¬ì—¬ í•„ìš”",
                    manufacturing: "uniQure ì†Œê·œëª¨ ìƒì‚°, ë³µì¡í•œ ë‹¤ì¤‘ ì£¼ì‚¬ ê³µì •",
                    regulatory: "EMA ì¡°ê±´ë¶€ ìŠ¹ì¸, ë³µì¡í•œ í™˜ì ì„ ì • ê¸°ì¤€, ì¶”ê°€ ì—°êµ¬ ìš”êµ¬",
                    commercial: "$1.2M/dose, 5ë…„ê°„ 1ëª… ì¹˜ë£Œ, ìƒì—…ì  ì‹¤íŒ¨ë¡œ ì‹œì¥ ì² ìˆ˜"
                },
                hemgenix: {
                    technical: "AAV5 ë²¡í„°, Factor IX ìœ ì „ì, ê°„ íŠ¹ì´ì„±, ë‹¨íšŒ ì •ë§¥ íˆ¬ì—¬",
                    clinical: "ì¶œí˜ˆ ì—í”¼ì†Œë“œ 64% ê°ì†Œ, Factor IX í™œì„± ì§€ì†ì  ì¦ê°€",
                    manufacturing: "CSL Behring, ê²€ì¦ëœ AAV5 í”Œë«í¼, ì•ˆì •ì  ê³µê¸‰",
                    regulatory: "FDA ì‹ ì† ìŠ¹ì¸, Orphan Drug, í˜ˆìš°ë³‘B ìµœì´ˆ ìœ ì „ìì¹˜ë£Œ",
                    commercial: "$3.5M/dose, ë³´í—˜ ì ìš© í˜‘ìƒ ì¤‘, ì—°ê°„ 100+ í™˜ì ëŒ€ìƒ"
                },
                roctavian: {
                    technical: "AAV5 ë²¡í„°, Factor VIII ìœ ì „ì, ê°„ í‘œì , ë†’ì€ ë©´ì—­ì›ì„±",
                    clinical: "ì¶œí˜ˆë¥  ê°ì†Œ but íš¨ê³¼ ê°ì†Œ ì‹œê°„ ê²½ê³¼, ê°œì¸ì°¨ í¼",
                    manufacturing: "BioMarin ì „ìš© ì‹œì„¤, ë³µì¡í•œ ëŒ€ìš©ëŸ‰ ìƒì‚°",
                    regulatory: "EU ì¡°ê±´ë¶€ ìŠ¹ì¸, FDA ì¶”ê°€ ë°ì´í„° ìš”êµ¬ë¡œ ì§€ì—°",
                    commercial: "$2.9M/dose, ì œí•œì  ì‹œì¥ ì ‘ê·¼, ì¥ê¸° íš¨ëŠ¥ ìš°ë ¤"
                }
            };
            
            const data = productData[product];
            const result = `
                <strong>${product.toUpperCase()} - ${analysisType} ë¶„ì„:</strong><br>
                ${data[analysisType]}<br><br>
                <strong>í•µì‹¬ ì¸ì‚¬ì´íŠ¸:</strong><br>
                ${analysisType === 'commercial' ? 
                    (product === 'zolgensma' ? 'ë†’ì€ ê°€ê²©ì—ë„ ê°•ë ¥í•œ ì„ìƒ íš¨ê³¼ë¡œ ì„±ê³µ' :
                     product === 'glybera' ? 'ê¸°ìˆ ì  ì„±ê³µì´ ìƒì—…ì  ì„±ê³µì„ ë³´ì¥í•˜ì§€ ì•ŠìŒ' :
                     'ì ì ˆí•œ ê°€ê²© ì •ì±…ê³¼ ë³´í—˜ ì ìš©ì´ ì¤‘ìš”') :
                 analysisType === 'technical' ?
                    'ë²¡í„° ì„¤ê³„ì™€ ì „ë‹¬ ë°©ì‹ì´ ì¹˜ë£Œ íš¨ê³¼ë¥¼ ê²°ì •' :
                 analysisType === 'clinical' ?
                    'ëª…í™•í•œ ì„ìƒ endpointì™€ ì¥ê¸° íš¨ëŠ¥ ë°ì´í„° í•„ìˆ˜' :
                 'ì¡°ê¸° ê·œì œ ê¸°ê´€ ì†Œí†µê³¼ íŠ¹ë³„ í”„ë¡œê·¸ë¨ í™œìš©ì´ í•µì‹¬'}
            `;
            
            document.getElementById('productAnalysisResult').innerHTML = result;
            document.getElementById('productAnalysisResult').style.display = 'block';
        }

        function updateWeights() {
            const tech = document.getElementById('techWeight').value;
            const clinical = document.getElementById('clinicalWeight').value;
            const manuf = document.getElementById('manufWeight').value;
            const market = document.getElementById('marketWeight').value;
            
            document.getElementById('techValue').textContent = tech + '%';
            document.getElementById('clinicalValue').textContent = clinical + '%';
            document.getElementById('manufValue').textContent = manuf + '%';
            document.getElementById('marketValue').textContent = market + '%';
            
            const total = parseInt(tech) + parseInt(clinical) + parseInt(manuf) + parseInt(market);
            document.getElementById('totalWeight').textContent = total + '%';
            document.getElementById('totalWeight').style.color = total === 100 ? 'green' : 'red';
        }

        function calculateSuccess() {
            const tech = parseFloat(document.getElementById('techWeight').value);
            const clinical = parseFloat(document.getElementById('clinicalWeight').value);
            const manuf = parseFloat(document.getElementById('manufWeight').value);
            const market = parseFloat(document.getElementById('marketWeight').value);
            
            const total = tech + clinical + manuf + market;
            
            if (total !== 100) {
                alert('ê°€ì¤‘ì¹˜ ì´í•©ì´ 100%ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }
            
            // Sample scores for different products (0-100 scale)
            const productScores = {
                zolgensma: {tech: 85, clinical: 95, manuf: 80, market: 70},
                luxturna: {tech: 80, clinical: 75, manuf: 70, market: 65},
                glybera: {tech: 70, clinical: 60, manuf: 50, market: 20},
                hemgenix: {tech: 85, clinical: 85, manuf: 85, market: 75},
                roctavian: {tech: 75, clinical: 65, manuf: 75, market: 50}
            };
            
            let resultHTML = '<strong>ì œí’ˆë³„ ì„±ê³µ ì ìˆ˜:</strong><br>';
            
            Object.keys(productScores).forEach(product => {
                const scores = productScores[product];
                const weightedScore = (scores.tech * tech + scores.clinical * clinical + 
                                    scores.manuf * manuf + scores.market * market) / 100;
                
                resultHTML += `â€¢ ${product.toUpperCase()}: ${weightedScore.toFixed(1)}ì <br>`;
            });
            
            resultHTML += '<br><strong>ë¶„ì„:</strong><br>';
            resultHTML += 'ì ìˆ˜ê°€ ë†’ì„ìˆ˜ë¡ ì„±ê³µ ê°€ëŠ¥ì„±ì´ ë†’ìœ¼ë©°, ê° ìš”ì¸ì˜ ê°€ì¤‘ì¹˜ì— ë”°ë¼ ìˆœìœ„ê°€ ë³€ê²½ë©ë‹ˆë‹¤.';
            
            document.getElementById('successResult').innerHTML = resultHTML;
            document.getElementById('successResult').style.display = 'block';
        }

        function getRegulatory() {
            const stage = document.getElementById('devStage').value;
            const market = document.getElementById('targetMarket').value;
            const indication = document.getElementById('indicationType').value;
            
            let pathway = '';
            let timeline = '';
            let requirements = '';
            
            if (market === 'us') {
                if (indication === 'rare') {
                    pathway = 'FDA Orphan Drug + Breakthrough Therapy ë³‘í–‰ ì‹ ì²­ ê¶Œì¥';
                    timeline = 'IND ìŠ¹ì¸: 30ì¼, BLA ì‹¬ì‚¬: 6-12ê°œì›”';
                    requirements = 'Phase 2 íš¨ëŠ¥ ë°ì´í„°, ìì—°ì‚¬ ì—°êµ¬, ì†Œê·œëª¨ ì„ìƒ í—ˆìš©';
                } else {
                    pathway = 'FDA í‘œì¤€ ê²½ë¡œ, Fast Track ê³ ë ¤';
                    timeline = 'IND ìŠ¹ì¸: 30ì¼, BLA ì‹¬ì‚¬: 10-12ê°œì›”';
                    requirements = 'Phase 3 ëŒ€ì¡°êµ° ì‹œí—˜, ëŒ€ê·œëª¨ ì•ˆì „ì„± ë°ì´í„°';
                }
            } else if (market === 'eu') {
                if (indication === 'rare') {
                    pathway = 'EMA PRIME + Orphan Designation';
                    timeline = 'CTA ìŠ¹ì¸: 60ì¼, MAA ì‹¬ì‚¬: 150-210ì¼';
                    requirements = 'Scientific Advice í•„ìˆ˜, ATMP ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜';
                } else {
                    pathway = 'EMA í‘œì¤€ ATMP ì‹¬ì‚¬';
                    timeline = 'CTA ìŠ¹ì¸: 60ì¼, MAA ì‹¬ì‚¬: 210ì¼';
                    requirements = 'í¬ê´„ì  ì„ìƒ ë°ì´í„°, ì¥ê¸° ì¶”ì  ê³„íš';
                }
            } else if (market === 'global') {
                pathway = 'FDA-EMA ë™ì‹œ ìƒë‹´, ICH ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜';
                timeline = 'ê° ì§€ì—­ë³„ ìš”êµ¬ì‚¬í•­ ì¡°í™”, 18-24ê°œì›” ì†Œìš”';
                requirements = 'êµ­ì œ ê³µí†µ ì„ìƒ í”„ë¡œí† ì½œ, ê¸€ë¡œë²Œ CMC ì „ëµ';
            }
            
            const result = `
                <strong>ì¶”ì²œ ê·œì œ ê²½ë¡œ:</strong><br>
                ${pathway}<br><br>
                <strong>ì˜ˆìƒ íƒ€ì„ë¼ì¸:</strong><br>
                ${timeline}<br><br>
                <strong>ì£¼ìš” ìš”êµ¬ì‚¬í•­:</strong><br>
                ${requirements}<br><br>
                <strong>ë‹¤ìŒ ë‹¨ê³„:</strong><br>
                â€¢ Pre-IND/Scientific Advice ë¯¸íŒ… ì‹ ì²­<br>
                â€¢ ì„ìƒ í”„ë¡œí† ì½œ ì´ˆì•ˆ ì‘ì„±<br>
                â€¢ CMC ê°œë°œ ê³„íš ìˆ˜ë¦½
            `;
            
            document.getElementById('regulatoryResult').innerHTML = result;
            document.getElementById('regulatoryResult').style.display = 'block';
        }

        function searchTerms() {
            const query = document.getElementById('termSearch').value.toLowerCase();
            const resultsDiv = document.getElementById('termResults');
            
            if (query.length < 2) {
                resultsDiv.style.display = 'none';
                return;
            }
            
            const filteredTerms = glossaryData.filter(item => 
                item.term.toLowerCase().includes(query) || 
                item.english.toLowerCase().includes(query) ||
                item.definition.toLowerCase().includes(query)
            );
            
            if (filteredTerms.length > 0) {
                let html = '<div style="background: white; border: 1px solid #ccc; border-radius: 4px; padding: 1rem;">';
                filteredTerms.forEach(term => {
                    html += `
                        <div style="margin-bottom: 1rem; padding: 0.5rem; border-bottom: 1px solid #eee;">
                            <strong>${term.term}</strong> (${term.english})<br>
                            <em>${term.definition}</em><br>
                            <small style="color: #666;">ë¶„ì•¼: ${term.category}</small>
                        </div>
                    `;
                });
                html += '</div>';
                resultsDiv.innerHTML = html;
                resultsDiv.style.display = 'block';
            } else {
                resultsDiv.innerHTML = '<div style="padding: 1rem; color: #666;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
                resultsDiv.style.display = 'block';
            }
        }

        function convertUnits() {
            const inputValue = parseFloat(document.getElementById('inputValue').value);
            const inputUnit = document.getElementById('inputUnit').value;
            const outputUnit = document.getElementById('outputUnit').value;
            
            if (isNaN(inputValue)) {
                alert('ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
                return;
            }
            
            // Conversion factors (approximate)
            const conversionTable = {
                'gc_ml': 1,
                'vp_ml': 10, // Assume 10:1 VP:GC ratio due to empty capsids
                'iu_ml': 0.001, // Assume 1:1000 IU:GC ratio
                'log_gc': 1, // Special case
                'particles_ml': 10
            };
            
            let result = 0;
            
            if (inputUnit === 'log_gc' && outputUnit !== 'log_gc') {
                const gcValue = Math.pow(10, inputValue);
                result = gcValue / conversionTable[outputUnit];
            } else if (inputUnit !== 'log_gc' && outputUnit === 'log_gc') {
                const gcValue = inputValue * conversionTable[inputUnit];
                result = Math.log10(gcValue);
            } else if (inputUnit === 'log_gc' && outputUnit === 'log_gc') {
                result = inputValue;
            } else {
                const gcValue = inputValue * conversionTable[inputUnit];
                result = gcValue / conversionTable[outputUnit];
            }
            
            const unitNames = {
                'gc_ml': 'GC/mL',
                'vp_ml': 'VP/mL',
                'iu_ml': 'IU/mL',
                'log_gc': 'log GC/mL',
                'particles_ml': 'particles/mL'
            };
            
            const resultText = `
                <strong>ë‹¨ìœ„ ë³€í™˜ ê²°ê³¼:</strong><br>
                ${inputValue.toLocaleString()} ${unitNames[inputUnit]} = 
                ${result < 1000 ? result.toFixed(3) : result.toExponential(2)} ${unitNames[outputUnit]}<br><br>
                <small>* ë³€í™˜ ê³„ìˆ˜ëŠ” ê·¼ì‚¬ê°’ì´ë©°, ì‹¤ì œ ê°’ì€ ë²¡í„° íŠ¹ì„±ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</small>
            `;
            
            document.getElementById('conversionResult').innerHTML = resultText;
            document.getElementById('conversionResult').style.display = 'block';
        }

        function provideFeedback() {
            const feedbackModal = `
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 2000; display: flex; align-items: center; justify-content: center;" id="feedbackModal">
                    <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">ğŸ“ í”¼ë“œë°± ì œê³µ</h3>
                        
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">í”¼ë“œë°± ìœ í˜•:</label>
                            <select id="feedbackType" style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
                                <option value="link">ë§í¬ ì˜¤ë¥˜ ì‹ ê³ </option>
                                <option value="content">ë‚´ìš© ê°œì„  ì œì•ˆ</option>
                                <option value="update">ìµœì‹  ì •ë³´ ì œë³´</option>
                                <option value="general">ì¼ë°˜ ì˜ê²¬</option>
                            </select>
                        </div>
                        
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">ê´€ë ¨ ì±•í„°:</label>
                            <select id="feedbackChapter" style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
                                <option value="all">ì „ì²´</option>
                                <option value="intro">ì„œë¡ </option>
                                <option value="design">ë²¡í„° ì„¤ê³„</option>
                                <option value="upstream">ìƒë¥˜ê³µì •</option>
                                <option value="downstream">í•˜ë¥˜ê³µì •</option>
                                <option value="quality">í’ˆì§ˆê´€ë¦¬</option>
                                <option value="gmp">GMP & ìŠ¤ì¼€ì¼ì—…</option>
                                <option value="automation">ìë™í™” & PAT</option>
                                <option value="future">ë¯¸ë˜ ì „ë§</option>
                                <option value="casestudy">ì‚¬ë¡€ ì—°êµ¬</option>
                                <option value="regulatory">ê·œì œ ê°€ì´ë“œ</option>
                                <option value="tools">ì‹¤ë¬´ ë„êµ¬</option>
                                <option value="appendix">ë¶€ë¡</option>
                            </select>
                        </div>
                        
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">ìƒì„¸ ë‚´ìš©:</label>
                            <textarea id="feedbackContent" style="width: 100%; height: 120px; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; resize: vertical;" placeholder="êµ¬ì²´ì ì¸ í”¼ë“œë°±ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”..."></textarea>
                        </div>
                        
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">ì—°ë½ì²˜ (ì„ íƒ):</label>
                            <input type="email" id="feedbackEmail" style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;" placeholder="ë‹µë³€ì´ í•„ìš”í•œ ê²½ìš° ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”">
                        </div>
                        
                        <div style="text-align: center; margin-top: 2rem;">
                            <button class="btn btn-primary" onclick="submitFeedback()" style="margin-right: 1rem;">ì œì¶œ</button>
                            <button class="btn" onclick="closeFeedback()">ì·¨ì†Œ</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', feedbackModal);
        }

        function submitFeedback() {
            const type = document.getElementById('feedbackType').value;
            const chapter = document.getElementById('feedbackChapter').value;
            const content = document.getElementById('feedbackContent').value;
            const email = document.getElementById('feedbackEmail').value;
            
            if (!content.trim()) {
                alert('í”¼ë“œë°± ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì„œë²„ë¡œ ë°ì´í„° ì „ì†¡
            const feedbackData = {
                type: type,
                chapter: chapter,
                content: content,
                email: email,
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent
            };
            
            console.log('Feedback submitted:', feedbackData);
            
            // ì‹œë®¬ë ˆì´ì…˜ëœ ì„±ê³µ ë©”ì‹œì§€
            alert('ì†Œì¤‘í•œ í”¼ë“œë°±ì„ ë³´ë‚´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!\n\nê²€í†  í›„ êµì¬ ê°œì„ ì— ë°˜ì˜í•˜ê² ìŠµë‹ˆë‹¤.\nì—°ë½ì²˜ë¥¼ ë‚¨ê²¨ì£¼ì‹  ê²½ìš° ë‹µë³€ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.');
            
            closeFeedback();
        }

        function closeFeedback() {
            const modal = document.getElementById('feedbackModal');
            if (modal) {
                modal.remove();
            }
        }

        // Auto-save functionality (using variables instead of localStorage)
        setInterval(function() {
            // Auto-save progress, bookmarks, and notes to variables
            console.log('Auto-saving progress...', {
                readChapters: Array.from(readChapters),
                bookmarks: Array.from(bookmarks),
                notes: notes
            });
        }, 30000); // Save every 30 seconds
    </script>
</body>
</html>
